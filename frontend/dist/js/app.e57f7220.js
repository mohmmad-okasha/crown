(function(){var t={9833:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{},[e("h1",[t._v("Test component")])])}],i={name:"TestCom"},r=i,l=a(1001),n=(0,l.Z)(r,s,o,!1,null,null,null),d=n.exports},6700:function(t,e,a){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=i,t.exports=o,o.id=6700},1390:function(t,e,a){"use strict";var s=a(6369),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home",style:{"--primary":t.primary_color,"--back_color":t.back_color,"--primary_text":t.primary_text},attrs:{id:"page-top"}},[this.auth.logged_in?t._e():e("div",[e("section",{staticClass:"vh-100",staticStyle:{"background-color":"var(--primary)"}},[e("div",{staticClass:"container py-5 h-100"},[e("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6 col-xl-5"},[e("div",{staticClass:"card shadow-2-strong",staticStyle:{"border-radius":"1rem"}},[e("div",{staticClass:"card-body p-5 text-center"},[e("h3",{staticClass:"mb-5"},[t._v("Sign in")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typeEmailX-2"}},[t._v("User Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typePasswordX-2"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.$t("Login Error"))+" ")]):t._e(),e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])])])])])]),this.auth.logged_in?e("div",[e("div",{attrs:{id:"wrapper"}},[e("SideBar"),e("div",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}},[e("div",{attrs:{id:"content"}},[e("NavBar",{ref:"NavBar"}),e("div",{staticClass:"container-fluid"},[e("router-view",{attrs:{search:t.search}})],1)],1),e("footer",{staticClass:"sticky-footer bg-white"})])],1),t._m(0),e("div",{staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[t._v(' Select "Logout" below if you are ready to end your current session. ')]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Cancel ")]),e("a",{staticClass:"btn btn-primary",on:{click:t.logout}},[t._v("Logout")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"settings_modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Settings")))]),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:this.close_settings_modal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"lang"}},[t._v(t._s(t.$t("Language")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.lang,expression:"settings.lang"}],staticClass:"form-control",attrs:{id:"lang",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settings,"lang",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("ar")}},[t._v(t._s(t.$t("Arabic")))]),e("option",{domProps:{value:t.$t("en")}},[t._v(t._s(t.$t("English")))])])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dark_mode"}},[t._v(t._s(t.$t("Dark Mode")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.dark_mode,expression:"settings.dark_mode"}],staticClass:"form-control",attrs:{id:"dark_mode",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settings,"dark_mode",e.target.multiple?a:a[0])}}},[e("option",{domProps:{value:!0}},[t._v(t._s(t.$t("On")))]),e("option",{domProps:{value:!1}},[t._v(t._s(t.$t("Off")))])])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.settings.dark_mode,expression:"settings.dark_mode == false"}],staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"primary_color"}},[t._v(t._s(t.$t("Primary Color")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.primary_color,expression:"settings.primary_color"}],staticClass:"form-control",attrs:{type:"color"},domProps:{value:t.settings.primary_color},on:{input:function(e){e.target.composing||t.$set(t.settings,"primary_color",e.target.value)}}})])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"back_color"}},[t._v(t._s(t.$t("Back Color")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.back_color,expression:"settings.back_color"}],staticClass:"form-control",attrs:{type:"color"},domProps:{value:t.settings.back_color},on:{input:function(e){e.target.composing||t.$set(t.settings,"back_color",e.target.value)}}})])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"closeModal"},on:{click:this.close_settings_modal}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:this.save_settings}},[t._v(" "+t._s(t.$t("Save")))])])])])])]):t._e()])},i=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"scroll-to-top rounded",attrs:{href:"#page-top"}},[e("i",{staticClass:"fas fa-angle-up"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Ready to Leave?")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],r=(a(7658),a(6797),a(5939));const l="http://13.50.110.227:8000/",n=r.Z.create({baseURL:l,timeout:1e3});var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar"},[e("ul",{staticClass:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",attrs:{id:"accordionSidebar"}},[t._m(0),e("hr",{staticClass:"sidebar-divider my-0"}),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link collapsed",attrs:{tag:"a","aria-controls":"collapseTwo","aria-expanded":"true",to:"/dashboard"}},[e("i",{staticClass:"fas fa-fw fa-tachometer-alt"}),e("span",[t._v(t._s(t.$t("Dashboard")))])])],1),e("hr",{staticClass:"sidebar-divider"}),e("div",{staticClass:"sidebar-heading"},[t._v(t._s(t.$t("Interface")))]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link collapsed",attrs:{href:"","aria-expanded":"true","aria-controls":"collapseTwo"}},[e("i",{staticClass:"fa fa-user"}),e("span",[t._v(t._s(this.user_name))])])]),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link collapsed",attrs:{tag:"a","aria-controls":"collapseTwo","aria-expanded":"true",to:"/flights"}},[e("i",{staticClass:"fa fa-plane"}),e("span",[t._v(t._s(t.$t("Flights")))])])],1),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link collapsed",attrs:{href:"#","data-toggle":"collapse","data-target":"#hotels_menu","aria-expanded":"true","aria-controls":"hotels_menu"}},[e("i",{staticClass:"fas fa fa-hotel"}),e("span",[t._v(t._s(t.$t("Hotels")))])]),t._m(1)]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link collapsed",attrs:{href:"#","data-toggle":"collapse","data-target":"#trips_menu","aria-expanded":"true","aria-controls":"trips_menu"}},[e("i",{staticClass:"fa fa-arrows-split-up-and-left"}),e("span",[t._v(t._s(t.$t("Trips")))])]),t._m(2)]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link collapsed",attrs:{href:"#","data-toggle":"collapse","data-target":"#collapseUtilities","aria-expanded":"true","aria-controls":"collapseUtilities"}},[e("i",{staticClass:"fas fa fa-users"}),e("span",[t._v(t._s(t.$t("Persons")))])]),e("div",{staticClass:"collapse",attrs:{id:"collapseUtilities","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"}},[e("div",{staticClass:"bg-white py-2 collapse-inner rounded"},[e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/customers"}},[t._v(" "+t._s(t.$t("Customers"))+" ")]),e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/users"}},[t._v(" "+t._s(t.$t("Users"))+" ")]),e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/employees"}},[t._v(" "+t._s(t.$t("Employees"))+" ")]),e("a",{staticClass:"collapse-item",attrs:{href:"utilities-border.html"}},[t._v(t._s(t.$t("Borders")))]),e("a",{staticClass:"collapse-item",attrs:{href:"utilities-animation.html"}},[t._v(t._s(t.$t("Animations")))]),e("a",{staticClass:"collapse-item",attrs:{href:"utilities-other.html"}},[t._v(t._s(t.$t("Other")))])],1)])]),e("hr",{staticClass:"sidebar-divider"}),t._m(3)])])},c=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",attrs:{href:""}},[e("div",{staticClass:"sidebar-brand-icon"},[e("i",{staticClass:"bi bi-activity"})]),e("div",{staticClass:"sidebar-brand-text mx-3"},[e("img",{attrs:{src:"static/img/logo_white.png",width:"80%"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"collapse",attrs:{id:"hotels_menu","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"}},[e("div",{staticClass:"bg-white py-2 collapse-inner rounded"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"collapse",attrs:{id:"trips_menu","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"}},[e("div",{staticClass:"bg-white py-2 collapse-inner rounded"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center d-none d-md-inline"},[e("button",{staticClass:"rounded-circle border-0",attrs:{id:"sidebarToggle"}})])}],m={name:"SideBar",data(){return{user_name:""}},mounted(){this.user_name=localStorage.getItem("user_name")}},u=m,h=a(1001),_=(0,h.Z)(u,d,c,!1,null,null,null),p=_.exports,v=function(){var t=this,e=t._self._c;return e("div",[e("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},[t._m(0),e("form",{staticClass:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control bg-light border-0 small",attrs:{id:"search_box",type:"text",placeholder:t.$t("Search for..."),"aria-label":"Search","aria-describedby":"basic-addon2"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(1)])]),e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item dropdown no-arrow d-sm-none"},[t._m(2),e("div",{staticClass:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in",attrs:{"aria-labelledby":"searchDropdown"}},[e("form",{staticClass:"form-inline mr-auto w-100 navbar-search"},[e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control bg-light border-0 small",attrs:{type:"text",placeholder:t.$t("Search for..."),"aria-label":"Search","aria-describedby":"basic-addon2"}}),t._m(3)])])])]),e("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[t._m(4),e("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"alertsDropdown"}},[e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("Alerts Center")))]),t._m(5),e("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v(t._s(t.$t("Show All Alerts")))])])]),e("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[t._m(6),e("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"messagesDropdown"}},[e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("Message Center")))]),t._m(7),e("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v(t._s(t.$t("Read More Messages")))])])]),e("div",{staticClass:"topbar-divider d-none d-sm-block"}),e("li",{staticClass:"nav-item dropdown no-arrow"},[e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"mr-2 d-none d-lg-inline text-gray-600 small"},[t._v(t._s(this.user_name))]),e("img",{staticClass:"img-profile rounded-circle",attrs:{src:"static/img/undraw_profile.svg"}})]),e("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"userDropdown"}},[e("a",{staticClass:"dropdown-item on-hover-sm",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Profile"))+" ")]),e("a",{staticClass:"dropdown-item on-hover-sm",on:{click:this.open_settings_modal}},[e("i",{staticClass:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Settings"))+" ")]),e("a",{staticClass:"dropdown-item on-hover-sm",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Activity Log"))+" ")]),e("div",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item on-hover-sm",attrs:{href:"#","data-toggle":"modal","data-target":"#logoutModal"}},[e("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Logout"))+" ")])])])])])])},g=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop"}},[e("i",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""}},[e("i",{staticClass:"fas fa-search fa-sm"})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-search fa-fw"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-search fa-sm"})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-bell fa-fw"}),e("span",{staticClass:"badge badge-danger badge-counter"},[t._v("1")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[e("div",{staticClass:"mr-3"},[e("div",{staticClass:"icon-circle bg-primary"},[e("i",{staticClass:"fas fa-file-alt text-white"})])]),e("div",[e("div",{staticClass:"small text-gray-500"},[t._v("December 12, 2019")]),e("span",{staticClass:"font-weight-bold"},[t._v("...")])])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-envelope fa-fw"}),e("span",{staticClass:"badge badge-danger badge-counter"},[t._v("1")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[e("div",{staticClass:"dropdown-list-image mr-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:"static/img/undraw_profile_1.svg",alt:"..."}}),e("div",{staticClass:"status-indicator bg-success"})]),e("div",{staticClass:"font-weight-bold"},[e("div",{staticClass:"text-truncate"},[t._v("..")]),e("div",{staticClass:"small text-gray-500"},[t._v("..")])])])}],f={name:"NavBar",data(){return{user_name:"",search:""}},methods:{open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},mounted(){this.user_name=localStorage.getItem("user_name")}},b=f,C=(0,h.Z)(b,v,g,!1,null,null,null),y=C.exports,w={name:"HomeView",components:{SideBar:p,NavBar:y},data(){return{error:!1,settings:{dark_mode:"",lang:"",primary_color:"",back_color:""},user_name:"",auth:{username:"",password:"",logged_in:localStorage.getItem("access_token")},search:y.search,primary_color:"",primary_text:"",back_color:""}},async mounted(){this.user_name=localStorage.getItem("user_name"),await this.get_settings(),this.dark_mode(),this.set_lang()},methods:{async loginUser(){const t={username:this.username,password:this.password};try{const e=await r.Z.post(l+"/backend/login/",t);this.auth.logged_in=e.data.access,this.auth.username=this.username,localStorage.setItem("access_token",this.auth.logged_in),localStorage.setItem("token_time",new Date),localStorage.setItem("user_name",this.username),this.error=!1,this.$router.push("dashboard")}catch(e){this.error=!0,console.log(e)}},async logout(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);localStorage.setItem("access_token",""),localStorage.setItem("user_name",""),this.auth.logged_in=""},dark_mode(){this.settings.dark_mode?(this.primary_color="#242526",this.primary_text="#fff",this.back_color="#18191a"):(this.primary_color=this.settings.primary_color,this.primary_text=this.settings.primary_color,this.back_color=this.settings.back_color)},get_settings(){return n.get("/backend/settings/1").then((t=>(this.settings.dark_mode=t.data["dark_mode"],this.settings.primary_color=t.data["primary_color"],this.settings.back_color=t.data["back_color"],this.settings.lang=t.data["lang"])))},async save_settings(){try{await fetch(l+"/backend/settings/1/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)});swal(this.$t("Saved"),{buttons:!1,icon:"success",timer:2e3}),await this.get_settings(),this.dark_mode(),this.set_lang(),this.close_settings_modal()}catch(t){console.error()}},set_lang(){this.$i18n.locale=this.settings.lang},open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},beforeCreate(){const t=localStorage.getItem("access_token");this.logged_in=t,this.user_name=localStorage.getItem("user_name");var e=localStorage.getItem("token_time");const a=new Date,s=new Date(e),o=Math.abs(s-a),i=Math.floor(o/1e3/60);i>60&&(localStorage.setItem("access_token",""),localStorage.setItem("token_time",0))}},k=w,x=(0,h.Z)(k,o,i,!1,null,null,null),j=x.exports,P=a(2631),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")]),e("TestCom")],1)},M=[],H=a(9833),N={components:{TestCom:H["default"]}},A=N,D=(0,h.Z)(A,S,M,!1,null,null,null),T=D.exports,B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"users"},[e("h1",[t._v("This is an users page")]),t._v(" "+t._s(this.users)+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.test.a,expression:"test.a"}],attrs:{type:"text"},domProps:{value:t.test.a},on:{input:function(e){e.target.composing||t.$set(t.test,"a",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.test.b,expression:"test.b"}],attrs:{type:"text"},domProps:{value:t.test.b},on:{input:function(e){e.target.composing||t.$set(t.test,"b",e.target.value)}}}),e("button",{on:{click:function(e){return t.save_user()}}},[t._v("save")])])},E=[],I={name:"users",data(){return{users:[],test:{a:"",b:""}}},async mounted(){this.get_users()},methods:{async save_user(){var t=await fetch("http://127.0.0.1:8000/users/api/users_router/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.test)});this.users.push(await t.json())},get_users(){(0,r.Z)({method:"get",url:"http://127.0.0.1:8000/users/api/users_router/",auth:{username:"admin",password:"123"}}).then((t=>this.users=t.data))}}},Z=I,L=(0,h.Z)(Z,B,E,!1,null,null,null),R=L.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"FlightsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_flight(t.flight.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Flights Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Code")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Airline")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("From airport")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("To airport")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Departure date")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Arrival date")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Seats")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Status")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.flights,(function(a){return e("tr",{key:a.id,class:{selected:a.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(a.id)}],click:function(e){return t.row_click(a.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.$t(a.code)))]),e("td",[t._v(t._s(t.$t(a.airline)))]),e("td",[t._v(t._s(t.$t(a.from_airport)))]),e("td",[t._v(t._s(t.$t(a.to_airport)))]),e("td",[t._v(t._s(t.$t(a.departure_date)))]),e("td",[t._v(t._s(t.$t(a.arrival_date)))]),e("td",[t._v(t._s(t.$t(a.seats)))]),e("td",["enable"==a.status?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/ok--v1"}}):t._e(),"disabled"==a.status?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/cancel--v1"}}):t._e()]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_flight(a.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("date-picker",{attrs:{multiple:"",type:"datetime","compact-time":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Flight")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Flight")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"flight_code"}},[t._v(t._s(t.$t("Code")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.code,expression:"flight.code"}],staticClass:"form-control",class:{"is-invalid":!this.flight.code&&this.validate,"is-valid":this.flight.code&&this.validate},attrs:{id:"flight_code",type:"text"},domProps:{value:t.flight.code},on:{input:function(e){e.target.composing||t.$set(t.flight,"code",e.target.value)}}}),!this.flight.code&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The code"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"airline"}},[t._v(t._s(t.$t("Airline")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flight.airline,expression:"flight.airline"}],staticClass:"form-control",class:{"is-invalid":!this.flight.airline&&this.validate,"is-valid":this.flight.airline&&this.validate},attrs:{id:"airline",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.flight,"airline",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("R1")}},[t._v(t._s(t.$t("R1")))]),e("option",{domProps:{value:t.$t("RJ")}},[t._v(t._s(t.$t("RJ")))])]),!this.flight.airline&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select airline"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"from_airport"}},[t._v(t._s(t.$t("From Airport")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flight.from_airport,expression:"flight.from_airport"}],staticClass:"form-control",class:{"is-invalid":!this.flight.from_airport&&this.validate,"is-valid":this.flight.from_airport&&this.validate},attrs:{id:"from_airport",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.flight,"from_airport",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("AMM")}},[t._v(t._s(t.$t("AMM")))]),e("option",{domProps:{value:t.$t("IST")}},[t._v(t._s(t.$t("IST")))]),e("option",{domProps:{value:t.$t("TZX")}},[t._v(t._s(t.$t("TZX")))])]),!this.flight.from_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select from airport"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"to_airport"}},[t._v(t._s(t.$t("To Airport")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flight.to_airport,expression:"flight.to_airport"}],staticClass:"form-control",class:{"is-invalid":!this.flight.to_airport&&this.validate,"is-valid":this.flight.to_airport&&this.validate},attrs:{id:"to_airport",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.flight,"to_airport",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("AMM")}},[t._v(t._s(t.$t("AMM")))]),e("option",{domProps:{value:t.$t("IST")}},[t._v(t._s(t.$t("IST")))]),e("option",{domProps:{value:t.$t("TZX")}},[t._v(t._s(t.$t("TZX")))])]),!this.flight.to_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select to airport"))+" ")]):t._e()]),e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"departure_date"}},[t._v(t._s(t.$t("Departure date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.departure_date,expression:"flight.departure_date"}],staticClass:"form-control",class:{"is-invalid":!this.flight.departure_date&&this.validate,"is-valid":this.flight.departure_date&&this.validate},attrs:{id:"departure_date",type:"date"},domProps:{value:t.flight.departure_date},on:{input:function(e){e.target.composing||t.$set(t.flight,"departure_date",e.target.value)}}}),!this.flight.type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter departure_date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"arrival_date"}},[t._v(" "+t._s(t.$t("Arrival date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.arrival_date,expression:"flight.arrival_date"}],staticClass:"form-control",class:{"is-invalid":!this.flight.arrival_date&&this.validate,"is-valid":this.flight.arrival_date&&this.validate},attrs:{id:"arrival_date",type:"date"},domProps:{value:t.flight.arrival_date},on:{input:function(e){e.target.composing||t.$set(t.flight,"arrival_date",e.target.value)}}}),!this.flight.arrival_date&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The arrival date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"seats"}},[t._v(" "+t._s(t.$t("Seats")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.seats,expression:"flight.seats"}],staticClass:"form-control",class:{"is-invalid":!this.flight.seats&&this.validate,"is-valid":this.flight.seats&&this.validate},attrs:{id:"seats",type:"number"},domProps:{value:t.flight.seats},on:{input:function(e){e.target.composing||t.$set(t.flight,"seats",e.target.value)}}}),!this.flight.seats&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The seats"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("Status")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flight.status,expression:"flight.status"}],staticClass:"form-control",class:{"is-invalid":!this.flight.status&&this.validate,"is-valid":this.flight.status&&this.validate},attrs:{id:"status",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.flight,"status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("enable")}},[t._v(t._s(t.$t("Enable"))+" ")]),e("option",{domProps:{value:t.$t("disabled")}},[t._v(t._s(t.$t("Disabled"))+" ")])]),!this.flight.status&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the status"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.flight.notes,expression:"flight.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.flight.notes},on:{input:function(e){e.target.composing||t.$set(t.flight,"notes",e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_flight()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_flight(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_flight(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])],1)},O=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],U={name:"FlightsView",components:{NavBar:y},data(){return{date:"",validate:!1,base_url:window.location.origin+"/media/flights/",previewImage:null,img_file:null,active_index:null,flights:[],flight:{code:"",airline:"",from_airport:"",to_airport:"",departure_date:"",arrival_date:"",seats:"",status:"",user:""},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_flights()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/flights/?search="+t}).then((t=>this.flights=t.data));this.get_flights()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),a=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Flights"),a.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),a.document.write('<link href="static/css/reports.css" rel="stylesheet">'),a.document.write("<style>body{background-color:white !important;}</style>"),a.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),a.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",a.document.close()},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/flights/"+this.max_id+"_"+this.flight.name+".png",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_flights(){return n.get("/backend/flights/").then((t=>this.flights=t.data)).catch((t=>{alert(t)}))},async save_flight(){try{if(this.check_form()){await fetch(l+"/backend/flights/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.flight)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_flights(),await this.get_max_id(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async update_flight(t){try{if(this.check_form()){await fetch(l+"/backend/flights/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.flight)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.flight.id,await this.uploadImage(),this.get_flights(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_flight(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await n["delete"]("/backend/flights/"+t+"/"),this.remove_file("/flights/"+t+"_"+this.flight.name+".png"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_flights(),this.closeModal())}))}catch(e){console.error()}},async get_flight(t){return(0,r.Z)({method:"get",url:l+"/backend/flights/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.flight=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Flights"}).then((t=>this.max_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_flight(t)},clear_form(){this.flight.code="",this.flight.airline="",this.flight.from_airport="",this.flight.to_airport="",this.flight.departure_date="",this.flight.arrival_date="",this.flight.seats="",this.flight.status="",this.flight.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.flight.code&&this.flight.airline&&this.flight.from_airport&&this.flight.to_airport&&this.flight.departure_date&&this.flight.arrival_date&&this.flight.seats&&this.flight.status)}}},z=U,q=(0,h.Z)(z,V,O,!1,null,null,null),G=q.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"BookingsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_booking(t.booking.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Bookings Monitor"))+" ")])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table-sm table"},[e("thead",[e("tr",[e("th",[t._v("Hotel/Room")]),t._l(31,(function(a){return e("th",{key:a,attrs:{scope:"col"}},[t._v(t._s(a))])}))],2)]),e("tbody",t._l(this.booked_rooms,(function(a){return e("tr",{key:a.room},[e("td",[t._v(t._s(a.room))]),t._v(" "),t._l(31,(function(s){return e("td",{key:s},t._l(a.dates.split(","),(function(t){return e("button",{directives:[{name:"show",rawName:"v-show",value:s==t.slice(0,2),expression:"ii==d.slice(0, 2)"}],key:t,staticClass:"btn btn-danger",attrs:{title:a.room,type:"button"}})})),0)}))],2)})),0)])])])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Bookings Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("book_date")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("guest_name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("hotel")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("dates")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("room_id")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("room_type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("status")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("guests")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("notes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("user")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.Bookings,(function(a){return e("tr",{key:a.id,class:{selected:a.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(a.id)}],click:function(e){return t.row_click(a.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.book_date))]),e("td",[t._v(t._s(t.$t(a.guest_name)))]),e("td",[t._v(t._s(t.$t(a.hotel)))]),e("td",[t._v(t._s(t.$t(a.dates.substr(0,20))))]),e("td",[t._v(t._s(t.$t(a.room_id)))]),e("td",[t._v(t._s(t.$t(a.room_type)))]),e("td",[t._v(t._s(t.$t(a.status)))]),e("td",[t._v(t._s(t.$t(a.guests)))]),e("td",[t._v(t._s(t.$t(a.notes)))]),e("td",[t._v(t._s(t.$t(a.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_booking(a.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add booking")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit booking")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"book_date"}},[t._v(t._s(t.$t("Booking Date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.booking.book_date,expression:"booking.book_date"}],staticClass:"form-control",class:{"is-invalid":!this.booking.book_date&&this.validate,"is-valid":this.booking.book_date&&this.validate},attrs:{id:"book_date",type:"datetime-local"},domProps:{value:t.booking.book_date},on:{input:function(e){e.target.composing||t.$set(t.booking,"book_date",e.target.value)}}}),!this.booking.book_date&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select The Date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"guest_name"}},[t._v(t._s(t.$t("guest name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.booking.guest_name,expression:"booking.guest_name"}],staticClass:"form-control",class:{"is-invalid":!this.booking.guest_name&&this.validate,"is-valid":this.booking.guest_name&&this.validate},attrs:{id:"guest_name",type:"text"},domProps:{value:t.booking.guest_name},on:{input:function(e){e.target.composing||t.$set(t.booking,"guest_name",e.target.value)}}}),!this.booking.guest_name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select guest_name"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"hotel"}},[t._v(t._s(t.$t("Hotel")))]),e("v-select",{class:{"is-invalid":!this.booking.hotel&&this.validate,"is-valid":this.booking.hotel&&this.validate},attrs:{id:"hotel",options:t.hotels},on:{change:t.get_rooms},model:{value:t.booking.hotel,callback:function(e){t.$set(t.booking,"hotel",e)},expression:"booking.hotel"}}),!this.booking.hotel&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select hotel"))+" ")]):t._e()],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"room_id"}},[t._v(t._s(t.$t("Room ID")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.booking.room_id,expression:"booking.room_id"}],staticClass:"form-control",class:{"is-invalid":!this.booking.room_id&&this.validate,"is-valid":this.booking.airline&&this.validate},attrs:{id:"airline",type:"text"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.booking,"room_id",e.target.multiple?a:a[0])},function(e){return t.get_room_type(t.booking.room_id)}]}},t._l(t.rooms,(function(a){return e("option",{key:a.room_id,domProps:{value:a.room_id}},[t._v(t._s(a.room_id))])})),0),!this.booking.room_id&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select room_id"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"room_type"}},[t._v(t._s(t.$t("Room Type")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.booking.room_type,expression:"booking.room_type"}],staticClass:"form-control",attrs:{readonly:"",id:"room_type",type:"text"},domProps:{value:t.booking.room_type},on:{input:function(e){e.target.composing||t.$set(t.booking,"room_type",e.target.value)}}})]),e("label",{directives:[{name:"show",rawName:"v-show",value:this.booking.room_id,expression:"this.booking.room_id"}],attrs:{for:"dates"}},[t._v(t._s(t.$t("Select Date")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:this.booking.room_id,expression:"this.booking.room_id"}],staticClass:"form-group card",staticStyle:{width:"100%"},attrs:{id:"dates"}},[e("div",{staticClass:"card-body"},[e("date-picker",{attrs:{min:t.min_date,max:t.max_date,disable:t.disable_dates,multiple:"",clearable:"",locale:"en",inline:"","auto-submit":!0,"custom-input":"none",color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY"},model:{value:t.booking.dates,callback:function(e){t.$set(t.booking,"dates",e)},expression:"booking.dates"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"guests"}},[t._v(" "+t._s(t.$t("guests")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.booking.guests,expression:"booking.guests"}],staticClass:"form-control",class:{"is-invalid":!this.booking.guests&&this.validate,"is-valid":this.booking.guests&&this.validate},attrs:{id:"guests",type:"number"},domProps:{value:t.booking.guests},on:{input:function(e){e.target.composing||t.$set(t.booking,"guests",e.target.value)}}}),!this.booking.guests&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The guests"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("Status")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.booking.status,expression:"booking.status"}],staticClass:"form-control",class:{"is-invalid":!this.booking.status&&this.validate,"is-valid":this.booking.status&&this.validate},attrs:{id:"status",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.booking,"status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("Booked")}},[t._v(t._s(t.$t("Booked"))+" ")]),e("option",{domProps:{value:t.$t("No Show")}},[t._v(t._s(t.$t("No Show"))+" ")])]),!this.booking.status&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the status"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.booking.notes,expression:"booking.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.booking.notes},on:{input:function(e){e.target.composing||t.$set(t.booking,"notes",e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_booking()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_booking(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_booking(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},F=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],J=a(7958),X=a.n(J),K=a(4226),Q=a.n(K),W={name:"BookingsView",components:{NavBar:y,datePicker:X(),vSelect:Q()},data(){return{user_name:"",validate:!1,base_url:window.location.origin+"/media/bookings/",previewImage:null,img_file:null,active_index:null,Bookings:[],rooms:[],hotels:[],dates:[],range_dates:[],enable_dates:[],disable_dates:[],booked_dates:[],booked_rooms:[],pended_rooms:[],min_date:"",max_date:"",booking:{book_date:(new Date).toISOString().slice(0,16),dates:"",guest_name:"",hotel:"",room_id:"",room_type:"",status:"",guests:"",notes:"",user:""},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},watch:{"booking.hotel":function(t){this.get_rooms()},enable_dates:function(t){this.findMinMaxDate()}},async mounted(){this.booking.user=localStorage.getItem("user_name"),this.get_booked_rooms();const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_Bookings(),await this.get_hotels()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/bookings/?search="+t}).then((t=>this.Bookings=t.data));this.get_Bookings()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),a=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Bookings"),a.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),a.document.write('<link href="static/css/reports.css" rel="stylesheet">'),a.document.write("<style>body{background-color:white !important;}</style>"),a.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),a.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",a.document.close()},get_Bookings(){return n.get("/backend/bookings/").then((t=>this.Bookings=t.data)).catch((t=>{alert(t)}))},get_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_rooms/?hotel="+this.booking.hotel}).then((t=>this.rooms=t.data[0]))},get_hotels(){return(0,r.Z)({method:"get",url:l+"/backend/get_hotels/"}).then((t=>this.hotels=t.data))},async save_booking(){try{if(this.check_form()){this.booking.dates=this.booking.dates.toString();await fetch(l+"/backend/bookings/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.booking)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_Bookings(),await this.get_max_id(),this.closeModal()}}catch(t){console.error()}},async update_booking(t){try{if(this.check_form()){this.booking.dates=this.booking.dates.toString();await fetch(l+"/backend/bookings/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.booking)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.booking.id,await this.uploadImage(),this.get_Bookings(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_booking(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await n["delete"]("/backend/bookings/"+t+"/"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_Bookings(),this.closeModal())}))}catch(e){console.error()}},async get_booking(t){return(0,r.Z)({method:"get",url:l+"/backend/bookings/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.booking=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Bookings"}).then((t=>this.max_id=t.data.data.id__max))},get_room_type(t){return(0,r.Z)({method:"get",url:l+"/backend/get_room_type/",params:{room_id:t,hotel:this.booking.hotel},auth:{username:"admin",password:"123"}}).then((t=>this.booking.room_type=t.data[0][0])).then(this.get_room_dates(t))},get_room_dates(t){return(0,r.Z)({method:"get",url:l+"/backend/get_room_dates/",params:{room_id:t,hotel:this.booking.hotel},auth:{username:"admin",password:"123"}}).then((t=>this.enable_dates=t.data[0].split(",")))},get_booked_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_booked_rooms/"}).then((t=>this.booked_rooms=t.data.booked_rooms))},findMinMaxDate(){let t=this.enable_dates[0],e=this.enable_dates[0];for(let a=0;a<this.enable_dates.length;a++)this.enable_dates[a]>e&&(e=this.enable_dates[a]),this.enable_dates[a]<t&&(t=this.enable_dates[a]);this.min_date=t,this.max_date=e,this.filter_enabled_dates()},get_booked_dates(){if(this.booking.room_id&&this.booking.hotel)return this.booked_dates=[],(0,r.Z)({method:"get",url:l+"/backend/get_booked_dates/",params:{room_id:this.booking.room_id,hotel:this.booking.hotel}}).then((t=>this.booked_dates=t.data[0].replace(", ",",").split(",")))},async filter_enabled_dates(){const t=this.min_date.split("/"),e=this.max_date.split("/"),a=new Date(t[2],t[1]-1,t[0]),s=new Date(e[2],e[1]-1,e[0]);try{await this.get_booked_dates()}catch(i){}const o=new Date(a);this.disable_dates=[];while(o<=s)this.enable_dates.includes(o.toLocaleDateString("en-GB"))||this.disable_dates.push(o.toLocaleDateString("en-GB")),this.booked_dates.length>0&&this.booked_dates.includes(o.toLocaleDateString("en-GB"))&&this.disable_dates.push(o.toLocaleDateString("en-GB")),o.setDate(o.getDate()+1)},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.disable_dates=[],this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.enable_dates=this.booking.dates,this.enable_dates=this.enable_dates.split(","),this.booking.dates=this.booking.dates.split(","),this.active_index=t,await this.get_booking(t)},clear_form(){this.booking.guest_name="",this.booking.hotel="",this.booking.dates="",this.booking.room_id="",this.booking.room_type="",this.booking.status="",this.booking.guests="",this.booking.notes="",this.enable_dates=[],this.disable_dates=[],this.min_date="",this.max_date="",this.validate=!1},check_form(){return this.validate=!0,!!(this.booking.book_date&&this.booking.guest_name&&this.booking.hotel&&this.booking.dates&&this.booking.room_id&&this.booking.room_type&&this.booking.status&&this.booking.guests)}}},tt=W,et=(0,h.Z)(tt,Y,F,!1,null,null,null),at=et.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"RoomsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_room(t.room.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Rooms Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("hotel")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("room_id")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("room_type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("dates")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("notes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.Rooms,(function(a){return e("tr",{key:a.room_id,class:{selected:a.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(a.id)}],click:function(e){return t.row_click(a.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.$t(a.hotel)))]),e("td",[t._v(t._s(t.$t(a.room_id)))]),e("td",[t._v(t._s(t.$t(a.room_type)))]),e("td",[t._v(t._s(t.$t(a.dates.substr(0,20))))]),e("td",[t._v(t._s(t.$t(a.notes)))]),e("td",[t._v(t._s(t.$t(a.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_room(t.room.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add room")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit room")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"hotel"}},[t._v(" "+t._s(t.$t("hotel")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.room.hotel,expression:"room.hotel"}],staticClass:"form-control",class:{"is-invalid":!this.room.hotel&&this.validate,"is-valid":this.room.hotel&&this.validate},attrs:{id:"hotel",type:"text"},domProps:{value:t.room.hotel},on:{input:function(e){e.target.composing||t.$set(t.room,"hotel",e.target.value)}}}),!this.room.hotel&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The hotel"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"room_id"}},[t._v(" "+t._s(t.$t("room_id")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.room.room_id,expression:"room.room_id"}],staticClass:"form-control",class:{"is-invalid":!this.room.room_id&&this.validate,"is-valid":this.room.room_id&&this.validate},attrs:{id:"room_id",type:"text"},domProps:{value:t.room.room_id},on:{input:function(e){e.target.composing||t.$set(t.room,"room_id",e.target.value)}}}),!this.room.room_id&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The room_id"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"room_type"}},[t._v(t._s(t.$t("room_type")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.room.room_type,expression:"room.room_type"}],staticClass:"form-control",class:{"is-invalid":!this.room.room_type&&this.validate,"is-valid":this.room.room_type&&this.validate},attrs:{id:"room_type",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.room,"room_type",e.target.multiple?a:a[0])}}},[e("option",{domProps:{value:t.$t("Single")}},[t._v(t._s(t.$t("Single"))+" ")]),e("option",{domProps:{value:t.$t("Double")}},[t._v(t._s(t.$t("Double"))+" ")])]),!this.room.room_type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the room type"))+" ")]):t._e()]),e("label",{attrs:{for:"dates"}},[t._v(t._s(t.$t("Select Date")))]),e("div",{staticClass:"form-group card",staticStyle:{width:"100%"},attrs:{id:"dates"}},[e("div",{staticClass:"card-body"},[e("date-picker",{attrs:{multiple:"",clearable:"",inline:"","auto-submit":!0,"custom-input":"none",color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY",locale:"en"},model:{value:t.room.dates,callback:function(e){t.$set(t.room,"dates",e)},expression:"room.dates"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"room_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.room.notes,expression:"room.notes"}],staticClass:"form-control",attrs:{id:"room_notes",rows:"1"},domProps:{value:t.room.notes},on:{input:function(e){e.target.composing||t.$set(t.room,"notes",e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_room()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_room(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_room(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},ot=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],it=a(8682),rt=a.n(it),lt={name:"RoomsView",components:{NavBar:y,datePicker:X()},data(){return{dateArray:[],validate:!1,base_url:window.location.origin+"/media/rooms/",previewImage:null,img_file:null,active_index:null,Rooms:[],hotels:[],room:{hotel:"",room_id:"",room_type:"",dates:[],notes:"",user:""},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){this.room.user=localStorage.getItem("user_name");const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_Rooms(),await this.get_hotels()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/rooms/?search="+t}).then((t=>this.Rooms=t.data));this.get_Rooms()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),a=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Rooms"),a.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),a.document.write('<link href="static/css/reports.css" rel="stylesheet">'),a.document.write("<style>body{background-color:white !important;}</style>"),a.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),a.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",a.document.close()},get_Rooms(){return n.get("/backend/rooms/").then((t=>this.Rooms=t.data)).catch((t=>{alert(t)}))},get_hotels(){return(0,r.Z)({method:"get",url:l+"/backend/get_hotels/"}).then((t=>this.hotels=t.data[0]))},async save_room(){try{if(this.check_form()){this.room.dates=this.room.dates.toString();var t=await fetch(l+"/backend/rooms/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.room)});if(t.ok)rt()(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_Rooms(),await this.get_max_id(),this.closeModal();else{var e="Error: "+t.status+" "+t.statusText;rt()(e,{icon:"error"})}}}catch(a){console.error()}},async update_room(t){try{if(this.check_form()){this.room.dates=this.room.dates.toString();var e=await fetch(l+"/backend/rooms/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.room)});if(e.ok)rt()(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.room.id,this.get_Rooms(),this.closeModal(),this.edit_mode=!1;else{var a="Error: "+e.status+" "+e.statusText;rt()(a,{icon:"error"})}}}catch(s){console.error()}},async delete_room(t){try{await rt()({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var a=await fetch(l+"/backend/rooms/"+t+"/",{method:"delete",headers:{"Content-Type":"application/json"}});if(a.ok)rt()(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_Rooms(),this.closeModal();else{var s="Error: "+a.status+" "+a.statusText;rt()(s,{icon:"error"})}}}))}catch(e){console.error()}},async get_room(t){return(0,r.Z)({method:"get",url:l+"/backend/rooms/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.room=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Rooms"}).then((t=>this.max_id=t.data.data.id__max))},get_room_type(t){return(0,r.Z)({method:"get",url:l+"/backend/get_room_type/?room_id="+t}).then((t=>this.room.room_type=t.data[0]))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_room(t),this.room.dates=this.room.dates.split(",")},clear_form(){this.room.hotel="",this.room.room_id="",this.room.room_type="",this.room.dates=[],this.room.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.room.hotel&&this.room.room_id&&this.room.room_type&&this.room.dates)}}},nt=lt,dt=(0,h.Z)(nt,st,ot,!1,null,null,null),ct=dt.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Hotel_roomsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_Hotel_room(t.Hotel_room.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Hotel_rooms Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Hotel")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Rooms Count")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Rooms Type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Notes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Status")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.Hotel_rooms,(function(a){return e("tr",{key:a.id,class:{selected:a.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(a.id)}],click:function(e){return t.row_click(a.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.$t(a.name)))]),e("td",[t._v(t._s(t.$t(a.rooms_count)))]),e("td",[t._v(t._s(t.$t(a.rooms_type)))]),e("td",[t._v(t._s(t.$t(a.notes)))]),e("td",[a.count>0?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/ok--v1"}}):t._e(),a.count<=0?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/cancel--v1"}}):t._e()]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_Hotel_room(a.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Hotel_room")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Hotel_room")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Hotel_room_code"}},[t._v(t._s(t.$t("Code")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.code,expression:"Hotel_room.code"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.code&&this.validate,"is-valid":this.Hotel_room.code&&this.validate},attrs:{id:"Hotel_room_code",type:"text"},domProps:{value:t.Hotel_room.code},on:{input:function(e){e.target.composing||t.$set(t.Hotel_room,"code",e.target.value)}}}),!this.Hotel_room.code&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The code"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"airline"}},[t._v(t._s(t.$t("Airline")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.airline,expression:"Hotel_room.airline"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.airline&&this.validate,"is-valid":this.Hotel_room.airline&&this.validate},attrs:{id:"airline",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.Hotel_room,"airline",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("R1")}},[t._v(t._s(t.$t("R1")))]),e("option",{domProps:{value:t.$t("RJ")}},[t._v(t._s(t.$t("RJ")))])]),!this.Hotel_room.airline&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select airline"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"from_airport"}},[t._v(t._s(t.$t("From Airport")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.from_airport,expression:"Hotel_room.from_airport"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.from_airport&&this.validate,"is-valid":this.Hotel_room.from_airport&&this.validate},attrs:{id:"from_airport",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.Hotel_room,"from_airport",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("AMM")}},[t._v(t._s(t.$t("AMM")))]),e("option",{domProps:{value:t.$t("IST")}},[t._v(t._s(t.$t("IST")))]),e("option",{domProps:{value:t.$t("TZX")}},[t._v(t._s(t.$t("TZX")))])]),!this.Hotel_room.from_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select from airport"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"to_airport"}},[t._v(t._s(t.$t("To Airport")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.to_airport,expression:"Hotel_room.to_airport"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.to_airport&&this.validate,"is-valid":this.Hotel_room.to_airport&&this.validate},attrs:{id:"to_airport",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.Hotel_room,"to_airport",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("AMM")}},[t._v(t._s(t.$t("AMM")))]),e("option",{domProps:{value:t.$t("IST")}},[t._v(t._s(t.$t("IST")))]),e("option",{domProps:{value:t.$t("TZX")}},[t._v(t._s(t.$t("TZX")))])]),!this.Hotel_room.to_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select to airport"))+" ")]):t._e()]),e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"departure_date"}},[t._v(t._s(t.$t("Departure date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.departure_date,expression:"Hotel_room.departure_date"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.departure_date&&this.validate,"is-valid":this.Hotel_room.departure_date&&this.validate},attrs:{id:"departure_date",type:"date"},domProps:{value:t.Hotel_room.departure_date},on:{input:function(e){e.target.composing||t.$set(t.Hotel_room,"departure_date",e.target.value)}}}),!this.Hotel_room.type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter departure_date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"arrival_date"}},[t._v(" "+t._s(t.$t("Arrival date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.arrival_date,expression:"Hotel_room.arrival_date"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.arrival_date&&this.validate,"is-valid":this.Hotel_room.arrival_date&&this.validate},attrs:{id:"arrival_date",type:"date"},domProps:{value:t.Hotel_room.arrival_date},on:{input:function(e){e.target.composing||t.$set(t.Hotel_room,"arrival_date",e.target.value)}}}),!this.Hotel_room.arrival_date&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The arrival date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"seats"}},[t._v(" "+t._s(t.$t("Seats")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.seats,expression:"Hotel_room.seats"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.seats&&this.validate,"is-valid":this.Hotel_room.seats&&this.validate},attrs:{id:"seats",type:"number"},domProps:{value:t.Hotel_room.seats},on:{input:function(e){e.target.composing||t.$set(t.Hotel_room,"seats",e.target.value)}}}),!this.Hotel_room.seats&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The seats"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("Status")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.status,expression:"Hotel_room.status"}],staticClass:"form-control",class:{"is-invalid":!this.Hotel_room.status&&this.validate,"is-valid":this.Hotel_room.status&&this.validate},attrs:{id:"status",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.Hotel_room,"status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("enable")}},[t._v(t._s(t.$t("Enable"))+" ")]),e("option",{domProps:{value:t.$t("disabled")}},[t._v(t._s(t.$t("Disabled"))+" ")])]),!this.Hotel_room.status&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the status"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Hotel_room.notes,expression:"Hotel_room.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.Hotel_room.notes},on:{input:function(e){e.target.composing||t.$set(t.Hotel_room,"notes",e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_Hotel_room()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_Hotel_room(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_Hotel_room(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},ut=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],ht={name:"Hotel_roomsView",components:{NavBar:y},data(){return{date:"",validate:!1,base_url:window.location.origin+"/media/Hotel_rooms/",previewImage:null,img_file:null,active_index:null,Hotel_rooms:[],Hotel_room:{code:"",airline:"",from_airport:"",to_airport:"",departure_date:"",arrival_date:"",seats:"",status:"",user:""},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_Hotel_rooms()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/Hotel_rooms/?search="+t}).then((t=>this.Hotel_rooms=t.data));this.get_Hotel_rooms()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),a=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Hotel_rooms"),a.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),a.document.write('<link href="static/css/reports.css" rel="stylesheet">'),a.document.write("<style>body{background-color:white !important;}</style>"),a.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),a.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",a.document.close()},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/Hotel_rooms/"+this.max_id+"_"+this.Hotel_room.name+".png",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_Hotel_rooms(){return n.get("/backend/Hotel_rooms/").then((t=>this.Hotel_rooms=t.data)).catch((t=>{alert(t)}))},async save_Hotel_room(){try{if(this.check_form()){await fetch(l+"/backend/Hotel_rooms/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.Hotel_room)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_Hotel_rooms(),await this.get_max_id(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async update_Hotel_room(t){try{if(this.check_form()){await fetch(l+"/backend/Hotel_rooms/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.Hotel_room)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.Hotel_room.id,await this.uploadImage(),this.get_Hotel_rooms(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_Hotel_room(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await n["delete"]("/backend/Hotel_rooms/"+t+"/"),this.remove_file("/Hotel_rooms/"+t+"_"+this.Hotel_room.name+".png"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_Hotel_rooms(),this.closeModal())}))}catch(e){console.error()}},async get_Hotel_room(t){return(0,r.Z)({method:"get",url:l+"/backend/Hotel_rooms/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.Hotel_room=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Hotel_rooms"}).then((t=>this.max_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_Hotel_room(t)},clear_form(){this.Hotel_room.code="",this.Hotel_room.airline="",this.Hotel_room.from_airport="",this.Hotel_room.to_airport="",this.Hotel_room.departure_date="",this.Hotel_room.arrival_date="",this.Hotel_room.seats="",this.Hotel_room.status="",this.Hotel_room.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.Hotel_room.code&&this.Hotel_room.airline&&this.Hotel_room.from_airport&&this.Hotel_room.to_airport&&this.Hotel_room.departure_date&&this.Hotel_room.arrival_date&&this.Hotel_room.seats&&this.Hotel_room.status)}}},_t=ht,pt=(0,h.Z)(_t,mt,ut,!1,null,null,null),vt=pt.exports,gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",attrs:{id:"page-top"}},[t._l(t.buttons,(function(a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"button.show"}],key:a.id,staticClass:"col-xl-3 col-md-6 mb-4 on-hover-sm",attrs:{role:"button"}},[e("div",{staticClass:"card shadow h-100 py-2",class:a.color},[e("router-link",{staticClass:"card-body",attrs:{tag:"div",to:"/"+a.url}},[e("div",{staticClass:"row no-gutters align-items-center"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"font-weight-bold text-primary text-uppercase mb-1"},[t._v(" "+t._s(t.$t(a.title)))]),e("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"})]),e("div",{staticClass:"col-auto"},[e("i",{staticClass:"fa-2x text-gray-300",class:a.icon})])])])],1)])})),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],2)},ft=[],bt={name:"dashboard",components:{NavBar:y},data(){return{buttons:[]}},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/dashboard_buttons/?search="+t}).then((t=>this.buttons=t.data));this.get_dashboard_buttons()}},async mounted(){await this.get_dashboard_buttons()},methods:{get_dashboard_buttons(){return n.get("/backend/dashboard_buttons/").then((t=>this.buttons=t.data)).catch((t=>{alert(t)}))}}},Ct=bt,yt=(0,h.Z)(Ct,gt,ft,!1,null,null,null),wt=yt.exports,kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"AccountsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_account(t.account.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Accounts Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Parent")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Debit")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Credit")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.accounts,(function(a){return e("tr",{key:a.id,class:{selected:a.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(a.id)}],click:function(e){return t.row_click(a.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(t.$t(a.parent)))]),e("td",[t._v(t._s(t.$t(a.name)))]),e("td",[t._v(t._s(t.$t(a.debit)))]),e("td",[t._v(t._s(t.$t(a.credit)))]),e("td",[t._v(t._s(t.$t(a.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},on:{contextmenu:function(e){return t.alert("1")}}},[e("i",{staticClass:"fa fa-gear on-hover"})]),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_account(a.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Account")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Account")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"account_name"}},[t._v(t._s(t.$t("Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account.name,expression:"account.name"}],staticClass:"form-control",class:{"is-invalid":!this.account.name&&this.validate,"is-valid":this.account.name&&this.validate},attrs:{id:"account_name",type:"text"},domProps:{value:t.account.name},on:{input:function(e){e.target.composing||t.$set(t.account,"name",e.target.value)}}}),!this.account.name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Account Name"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Parent"}},[t._v(t._s(t.$t("Parent")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.account.parent,expression:"account.parent"}],staticClass:"form-control",class:{"is-invalid":!this.account.parent&&this.validate,"is-valid":this.account.parent&&this.validate},attrs:{id:"Parent",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.account,"parent",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("Account")}},[t._v(t._s(t.$t("Account")))]),e("option",{domProps:{value:t.$t("Supplier")}},[t._v(t._s(t.$t("Supplier")))])]),!this.account.parent&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select The Parent"))+" ")]):t._e()])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_account()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_account(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_account(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},xt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])}],$t={name:"AccountsView",components:{NavBar:y},data(){return{validate:!1,base_url:window.location.origin+"/media/accounts/",previewImage:null,img_file:null,active_index:null,accounts:[],account:{id:"",parent:"",name:"",debit:0,credit:0,user:"admin"},edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_accounts(),this.teest()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/accounts/?search="+t}).then((t=>this.accounts=t.data));this.get_accounts()}},methods:{showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),a=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Accounts"),a.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),a.document.write('<link href="static/css/reports.css" rel="stylesheet">'),a.document.write("<style>body{background-color:white !important;}</style>"),a.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),a.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",a.document.close()},get_accounts(){return n.get("/backend/accounts/").then((t=>this.accounts=t.data)).catch((t=>{alert(t)}))},async save_account(){try{if(this.account.debit=0,this.account.credit=0,this.account.user=0,this.check_form()){await fetch(l+"/backend/accounts/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.account)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_accounts(),await this.get_max_id(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async update_account(t){try{if(this.check_form()){await fetch(l+"/backend/accounts/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.account)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.account.id,await this.uploadImage(),this.get_accounts(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_account(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await n["delete"]("/backend/accounts/"+t+"/"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_accounts(),this.closeModal())}))}catch(e){console.error()}},async get_account(t){return(0,r.Z)({method:"get",url:l+"/backend/accounts/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.account=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Accounts"}).then((t=>this.max_id=t.data.data.id__max))},teest(){return(0,r.Z)({method:"post",url:l+"/backend/new_account/?parent=100&name=test"})},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_account(t)},clear_form(){this.account.name="",this.account.parent="",this.account.debit="",this.account.credit="",this.account.user="",this.account.id="",this.validate=!1},check_form(){return this.validate=!0,!(!this.account.name||!this.account.parent)}}},jt=$t,Pt=(0,h.Z)(jt,kt,xt,!1,null,null,null),St=Pt.exports,Mt=function(){var t=this,e=t._self._c;return e("div")},Ht=[],Nt={},At=(0,h.Z)(Nt,Mt,Ht,!1,null,null,null),Dt=At.exports;s.ZP.use(P.ZP);const Tt=[{path:"/",name:"DashboardView",component:wt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Dt},{path:"/about",name:"about",component:T,meta:{requiresAuth:!0}},{path:"/users",name:"UsersView",component:R,meta:{requiresAuth:!0}},{path:"/Flights",name:"FlightsView",component:G,meta:{requiresAuth:!0}},{path:"/bookings",name:"BookingsView",component:at,meta:{requiresAuth:!0}},{path:"/rooms",name:"RoomsView",component:ct,meta:{requiresAuth:!0}},{path:"/Hotel_rooms",name:"Hotel_roomsView",component:vt,meta:{requiresAuth:!0}},{path:"/accounts",name:"AccountsView",component:St,meta:{requiresAuth:!0}},{path:"/dashboard",name:"DashboardView",component:wt,meta:{requiresAuth:!0}},{path:"/test",name:"test",component:()=>Promise.resolve().then(a.bind(a,9833))}],Bt=new P.ZP({base:"/",routes:Tt});Bt.beforeEach(((t,e,a)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const t=localStorage.getItem("access_token");t?a():a({name:"login"})}else a()}));var Et=Bt,It=a(3822);s.ZP.use(It.ZP);var Zt=new It.ZP.Store({state:{token:"",isAuthenticated:!1},getters:{},mutations:{initializeStore(t){localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1}},actions:{},modules:{}}),Lt=a(6018);r.Z.defaults.baseURL="http://127.0.0.1:8000",s.ZP.use(Lt.Z);const Rt=new Lt.Z({locale:"en",messages:{ar:{"Please Enter The Name":"يرجى ادخال الاسم","Please Select Type":"يرجى تحديد النوع","Please Enter Mobile Number":"يرجى ادخال رقم الهاتف ","Please Select ID Type":"يرجى تحديد نوع الوثيقة","Please Enter ID Number":"يرجى ادخال رقم الوثيقة","Please Enter The Address":"يرجى ادخال العنوان",Language:"اللغة",Arabic:"عربي",English:"انجليزي",On:"مفعل",Off:"مغلق","Dark Mode":"الوضع المظلم",User:"المستخدم",Profile:"الحساب",Login:"تسجيل الدخول",Logout:"تسجيل الخروج","Activity Log":"سجل الحركات",Settings:"الاعدادات",Users:"المستخدمين",Customer:"عميل",Supplier:"مورد",Customers:"العملاء",Persons:"الأشخاص",Employees:"الموظفين",Table:"جدول","Customers Table":"جدول العملاء","Search for...":"...البحث عن","Alerts Center":"الاشعارات","Show All Alerts":"عرض جميع الاشعارات","Message Center":"الرسائل","Read More Messages":"عرض جميع الرسائل",Dashboard:"لوحة التحكم",Name:"الاسم",Mobile:"الهاتف",Type:"النوع","ID Type":"الوثيقة","ID Number":"رقم الوثيقة",Address:"العنوان",Notes:"الملاحظات",Image:"الصورة",Actions:"الخيارات",Delete:"حذف",Edit:"تعديل",Save:"حفظ",Close:"اغلاق",Cancel:"الغاء",Print:"طباعة",Add:"اضافة",add:"اضافة",new:"اضافة",New:"اضافة",Updated:"تم التحديث",Saved:"تم الحفظ",Number:"رقم","Number of":"رقم",Residence:"إقامة","Driving License":"رخصة قيادة",Passport:"جواز سفر","ID Card":"بطاقة هوية","Choose Picture":"اختر صورة","Add Customer":"اضافة عميل","Edit Customer":"تعديل عميل","Are you sure?":"هل انت متأكد؟","Deleted!":"تم الحذف","Updated!":"تم التحديث","Added!":"تمت الاضافة"}}});s.ZP.config.productionTip=!1,new s.ZP({i18n:Rt,router:Et,store:Zt,axios:r.Z,swal:rt(),render:t=>t(j)}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,i){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],i=t[c][2];for(var l=!0,n=0;n<s.length;n++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[n])}))?s.splice(n--,1):(l=!1,i<r&&(r=i));if(l){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,r=s[0],l=s[1],n=s[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(n)var c=n(a)}for(e&&e(s);d<r.length;d++)i=r[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1390)}));s=a.O(s)})();
//# sourceMappingURL=app.e57f7220.js.map