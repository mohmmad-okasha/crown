(function(){var t={6700:function(t,e,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function i(t){var e=o(t);return s(e)}function o(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id=6700},9313:function(t,e,s){"use strict";var a=s(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home",style:{"--primary":t.primary_color,"--back_color":t.back_color,"--primary_text":t.primary_text},attrs:{id:"page-top"}},[this.auth.logged_in?t._e():e("div",[e("section",{staticClass:"vh-100",staticStyle:{"background-color":"var(--primary)"}},[e("div",{staticClass:"container py-5 h-100"},[e("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6 col-xl-5"},[e("div",{staticClass:"card shadow-2-strong",staticStyle:{"border-radius":"1rem"}},[e("div",{staticClass:"card-body p-5 text-center"},[e("h3",{staticClass:"mb-5"},[t._v("Sign in")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typeEmailX-2"}},[t._v("User Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"form-outline mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"typePasswordX-2"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",class:{"is-invalid":this.error},attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),this.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.$t("Login Error"))+" ")]):t._e(),e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])])])])])]),this.auth.logged_in?e("div",[e("div",{attrs:{id:"wrapper"}},[e("SideBar"),e("div",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}},[e("div",{attrs:{id:"content"}},[e("NavBar",{ref:"NavBar"}),e("div",{staticClass:"container-fluid"},[e("router-view",{attrs:{search:t.search}})],1)],1),e("footer",{staticClass:"sticky-footer bg-white"})])],1),t._m(0),e("div",{staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[t._v(' Select "Logout" below if you are ready to end your current session. ')]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Cancel ")]),e("a",{staticClass:"btn btn-primary",on:{click:t.logout}},[t._v("Logout")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"settings_modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Settings")))]),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:this.close_settings_modal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"lang"}},[t._v(t._s(t.$t("Language")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.lang,expression:"settings.lang"}],staticClass:"form-control",attrs:{id:"lang",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settings,"lang",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("ar")}},[t._v(t._s(t.$t("Arabic")))]),e("option",{domProps:{value:t.$t("en")}},[t._v(t._s(t.$t("English")))])])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dark_mode"}},[t._v(t._s(t.$t("Dark Mode")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.dark_mode,expression:"settings.dark_mode"}],staticClass:"form-control",attrs:{id:"dark_mode",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settings,"dark_mode",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:!0}},[t._v(t._s(t.$t("On")))]),e("option",{domProps:{value:!1}},[t._v(t._s(t.$t("Off")))])])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.settings.dark_mode,expression:"settings.dark_mode == false"}],staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"primary_color"}},[t._v(t._s(t.$t("Primary Color")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.primary_color,expression:"settings.primary_color"}],staticClass:"form-control",attrs:{type:"color"},domProps:{value:t.settings.primary_color},on:{input:function(e){e.target.composing||t.$set(t.settings,"primary_color",e.target.value)}}})])]),e("div",{staticClass:"col"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"back_color"}},[t._v(t._s(t.$t("Back Color")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.back_color,expression:"settings.back_color"}],staticClass:"form-control",attrs:{type:"color"},domProps:{value:t.settings.back_color},on:{input:function(e){e.target.composing||t.$set(t.settings,"back_color",e.target.value)}}})])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"closeModal"},on:{click:this.close_settings_modal}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:this.save_settings}},[t._v(" "+t._s(t.$t("Save")))])])])])])]):t._e()])},o=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"scroll-to-top rounded",attrs:{href:"#page-top"}},[e("i",{staticClass:"fas fa-angle-up"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Ready to Leave?")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],r=(s(7658),s(6797),s(5939)),n=window.location.protocol+"//"+window.location.hostname+":8000"+window.location.pathname;const l=n,d=r.Z.create({baseURL:l,timeout:2500});var c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar"},[e("ul",{staticClass:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",attrs:{id:"accordionSidebar"}},[t._m(0),e("hr",{staticClass:"sidebar-divider my-0"}),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link collapsed",attrs:{tag:"a","aria-controls":"collapseTwo","aria-expanded":"true",to:"/dashboard"}},[e("i",{staticClass:"fas fa-fw fa-tachometer-alt"}),e("span",[t._v(t._s(t.$t("Dashboard")))])])],1),e("hr",{staticClass:"sidebar-divider"}),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link collapsed",attrs:{href:"#","data-toggle":"collapse","data-target":"#booking_menu","aria-expanded":"true","aria-controls":"booking_menu"}},[e("i",{staticClass:"fas fa fa-hotel"}),e("span",[t._v(t._s(t.$t("Booking")))])]),e("div",{staticClass:"collapse",attrs:{id:"booking_menu","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"}},[e("div",{staticClass:"bg-white py-2 collapse-inner rounded"},[this.$parent.user_roles["hotels"]?e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/hotels"}},[t._v(" "+t._s(t.$t("Hotels"))+" ")]):t._e(),this.$parent.user_roles["bookings"]?e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/bookings"}},[t._v(" "+t._s(t.$t("Bookings"))+" ")]):t._e(),this.$parent.user_roles["available_hotel"]?e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/available_hotel"}},[t._v(" "+t._s(t.$t("Available Hotels"))+" ")]):t._e(),this.$parent.user_roles["hotels_report"]?e("router-link",{staticClass:"collapse-item",attrs:{tag:"a",to:"/hotels_report"}},[t._v(" "+t._s(t.$t("Hotels Report"))+" ")]):t._e()],1)])]),e("hr",{staticClass:"sidebar-divider"}),t._m(1)])])},h=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",attrs:{href:""}},[e("div",{staticClass:"sidebar-brand-icon"},[e("i",{staticClass:"bi bi-activity"})]),e("div",{staticClass:"sidebar-brand-text mx-3"},[e("img",{attrs:{src:"static/img/logo_white.png",width:"80%"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center d-none d-md-inline"},[e("button",{staticClass:"rounded-circle border-0",attrs:{id:"sidebarToggle"}})])}],m={name:"SideBar",data(){return{user_name:"",user_roles:""}},async mounted(){this.user_name=localStorage.getItem("user_name"),await new Promise((t=>setTimeout(t,500))),this.get_roles()},methods:{get_roles(){this.user_roles=this.$parent.user_roles}}},_=m,u=s(1001),p=(0,u.Z)(_,c,h,!1,null,null,null),v=p.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},[t._m(0),e("form",{staticClass:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control bg-light border-0 small",attrs:{id:"search_box",type:"text",placeholder:t.$t("Search for..."),"aria-label":"Search","aria-describedby":"basic-addon2"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(1)])]),e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item dropdown no-arrow d-sm-none"},[t._m(2),e("div",{staticClass:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in",attrs:{"aria-labelledby":"searchDropdown"}},[e("form",{staticClass:"form-inline mr-auto w-100 navbar-search"},[e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control bg-light border-0 small",attrs:{type:"text",placeholder:t.$t("Search for..."),"aria-label":"Search","aria-describedby":"basic-addon2"}}),t._m(3)])])])]),e("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[t._m(4),e("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"alertsDropdown"}},[e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("Alerts Center")))]),t._m(5),e("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v(t._s(t.$t("Show All Alerts")))])])]),e("li",{staticClass:"nav-item dropdown no-arrow mx-1"},[t._m(6),e("div",{staticClass:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"messagesDropdown"}},[e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("Message Center")))]),t._m(7),e("a",{staticClass:"dropdown-item text-center small text-gray-500",attrs:{href:"#"}},[t._v(t._s(t.$t("Read More Messages")))])])]),e("div",{staticClass:"topbar-divider d-none d-sm-block"}),e("li",{staticClass:"nav-item dropdown no-arrow"},[e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"mr-2 d-none d-lg-inline text-gray-600 small"},[t._v(t._s(this.user_name))]),e("img",{staticClass:"img-profile rounded-circle",attrs:{src:"static/img/undraw_profile.svg"}})]),e("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--grow-in",attrs:{"aria-labelledby":"userDropdown"}},[e("a",{staticClass:"dropdown-item on-hover-sm",on:{click:this.open_settings_modal}},[e("i",{staticClass:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Settings"))+" ")]),e("div",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item on-hover-sm",attrs:{href:"#","data-toggle":"modal","data-target":"#logoutModal"}},[e("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),t._v(" "+t._s(t.$t("Logout"))+" ")])])])])])])},f=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop"}},[e("i",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""}},[e("i",{staticClass:"fas fa-search fa-sm"})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-search fa-fw"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-search fa-sm"})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-bell fa-fw"}),e("span",{staticClass:"badge badge-danger badge-counter"},[t._v("1")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[e("div",{staticClass:"mr-3"},[e("div",{staticClass:"icon-circle bg-primary"},[e("i",{staticClass:"fas fa-file-alt text-white"})])]),e("div",[e("div",{staticClass:"small text-gray-500"},[t._v("December 12, 2019")]),e("span",{staticClass:"font-weight-bold"},[t._v("...")])])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"nav-link dropdown-toggle on-hover",attrs:{href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-envelope fa-fw"}),e("span",{staticClass:"badge badge-danger badge-counter"},[t._v("1")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"dropdown-item d-flex align-items-center",attrs:{href:"#"}},[e("div",{staticClass:"dropdown-list-image mr-3"},[e("img",{staticClass:"rounded-circle",attrs:{src:"static/img/undraw_profile_1.svg",alt:"..."}}),e("div",{staticClass:"status-indicator bg-success"})]),e("div",{staticClass:"font-weight-bold"},[e("div",{staticClass:"text-truncate"},[t._v("..")]),e("div",{staticClass:"small text-gray-500"},[t._v("..")])])])}],b={name:"NavBar",data(){return{user_name:"",search:""}},methods:{open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},mounted(){this.user_name=localStorage.getItem("user_name")}},w=b,C=(0,u.Z)(w,g,f,!1,null,null,null),y=C.exports,k={name:"HomeView",components:{SideBar:v,NavBar:y},data(){return{error:!1,settings:{dark_mode:"",lang:"",primary_color:"",back_color:""},user_name:"",user_name_id:"",auth:{username:"",password:"",logged_in:localStorage.getItem("access_token")},search:y.search,primary_color:"",primary_text:"",back_color:"",user_roles:[]}},async mounted(){this.user_name=localStorage.getItem("user_name"),this.get_user_name_id(),await this.get_settings(),this.dark_mode(),this.set_lang(),this.get_roles()},methods:{async loginUser(){const t={username:this.username,password:this.password};try{const e=await r.Z.post(l+"/backend/login/",t);this.auth.logged_in=e.data.access,this.auth.username=this.username,localStorage.setItem("access_token",this.auth.logged_in),localStorage.setItem("token_time",new Date),localStorage.setItem("user_name",this.username),r.Z.post(l+"/backend/logs/",{user_name:this.username,log:"login",time:new Date}),window.location.reload(),this.error=!1,this.$router.push("dashboard")}catch(e){this.error=!0,console.log(e)}},async logout(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);localStorage.setItem("access_token",""),localStorage.setItem("user_name",""),this.auth.logged_in=""},save_backup(){return d.get("/backend/save_backup/").then(localStorage.setItem("last_backup",new Date)).catch((t=>{alert(t)}))},get_user_name_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_user_name_id/?username="+this.user_name}).then((t=>this.user_name_id=t.data.data))},async get_roles(){return d.get("backend/get_roles/?user_id="+this.user_name_id,{auth:{username:"admin",password:"123"}}).then((t=>this.user_roles=t.data)).catch((t=>{}))},dark_mode(){this.settings.dark_mode?(this.primary_color="#242526",this.primary_text="#fff",this.back_color="#18191a"):(this.primary_color=this.settings.primary_color,this.primary_text=this.settings.primary_color,this.back_color=this.settings.back_color)},get_settings(){return d.get("/backend/settings/1").then((t=>(this.settings.dark_mode=t.data["dark_mode"],this.settings.primary_color=t.data["primary_color"],this.settings.back_color=t.data["back_color"],this.settings.lang=t.data["lang"])))},async save_settings(){try{await fetch(l+"/backend/settings/1/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)});swal(this.$t("Saved"),{buttons:!1,icon:"success",timer:2e3}),await this.get_settings(),this.dark_mode(),this.set_lang(),this.close_settings_modal()}catch(t){console.error()}},set_lang(){this.$i18n.locale=this.settings.lang},open_settings_modal(){$("#settings_modal").modal("toggle")},close_settings_modal(){$("#settings_modal").modal("hide")}},beforeCreate(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(document).ready((function(){$("#sidebarToggleTop").click()}));const t=localStorage.getItem("access_token");this.logged_in=t,this.user_name=localStorage.getItem("user_name");var e=localStorage.getItem("token_time");const s=new Date,a=new Date(e),i=Math.abs(a-s),o=Math.floor(i/1e3/60);o>60&&(localStorage.setItem("access_token",""),localStorage.setItem("token_time",0));const r=localStorage.getItem("last_backup");if(r){const t=new Date(r),e=Math.abs(t-s),a=Math.floor(e/1e3/60);a>800&&d.get("/backend/save_backup/").then(localStorage.setItem("last_backup",new Date)).catch((t=>{alert(t)}))}else d.get("/backend/save_backup/").then(localStorage.setItem("last_backup",new Date)).catch((t=>{alert(t)}))}},x=k,P=(0,u.Z)(x,i,o,!1,null,null,null),D=P.exports,S=s(2631),N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"UsersView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_user(t.user.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Users Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover",attrs:{id:"mytable"}},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("First Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Last Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Email")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Created On")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.users,(function(s){return e("tr",{key:s.id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)}}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.first_name)))]),e("td",[t._v(t._s(t.$t(s.last_name)))]),e("td",[t._v(t._s(t.$t(s.username)))]),e("td",[t._v(t._s(t.$t(s.email)))]),e("td",[t._v(t._s(s.date_joined.substring(0,10)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_user(t.user.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add User")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit User")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"first_name"}},[t._v(" "+t._s(t.$t("First Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first_name,expression:"user.first_name"}],staticClass:"form-control",class:{"is-invalid":!this.user.first_name&&this.validate,"is-valid":this.user.first_name&&this.validate},attrs:{id:"first_name",type:"text"},domProps:{value:t.user.first_name},on:{input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value)}}}),!this.user.first_name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The first_name"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"last_name"}},[t._v(" "+t._s(t.$t("Last Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.last_name,expression:"user.last_name"}],staticClass:"form-control",class:{"is-invalid":!this.user.last_name&&this.validate,"is-valid":this.user.last_name&&this.validate},attrs:{id:"last_name",type:"text"},domProps:{value:t.user.last_name},on:{input:function(e){e.target.composing||t.$set(t.user,"last_name",e.target.value)}}}),!this.user.last_name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The last_name"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"username"}},[t._v(" "+t._s(t.$t("User Name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",class:{"is-invalid":!this.user.username&&this.validate,"is-valid":this.user.username&&this.validate},attrs:{id:"username",type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),!this.user.username&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The username"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"email"}},[t._v(" "+t._s(t.$t("Email")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",class:{"is-invalid":!this.user.email&&this.validate,"is-valid":this.user.email&&this.validate},attrs:{id:"city",type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),!this.user.email&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Email"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"password"}},[t._v(" "+t._s(t.$t("Password")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",class:{"is-invalid":!(this.user.password==this.user.password2)&&this.validate,"is-valid":this.user.password==this.user.password2&&this.validate},attrs:{id:"password",type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),this.user.password!=this.user.password2&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Password not match"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"password2"}},[t._v(" "+t._s(t.$t("Confirm Password")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password2,expression:"user.password2"}],staticClass:"form-control",class:{"is-invalid":!(this.user.password==this.user.password2)&&this.validate,"is-valid":this.user.password==this.user.password2&&this.validate},attrs:{id:"password2",type:"password"},domProps:{value:t.user.password2},on:{input:function(e){e.target.composing||t.$set(t.user,"password2",e.target.value)}}}),this.user.password!=this.user.password2&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Password not match"))+" ")]):t._e()]),e("div",{staticClass:"card m-1"},[e("div",{staticClass:"card-header"},[t._v(" "+t._s(t.$t("Roles"))+" ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-group row center"},t._l(t.user.roles,(function(s,a){return e("div",{key:a},["id"!=a&&"user_name"!=a?e("label",{staticClass:"col-auto"},[e("input",{attrs:{type:"checkbox"},domProps:{value:s,checked:t.checkboxValues[a]},on:{change:function(e){return t.updateUserRole(a,e.target.checked)}}}),t._v(" "+t._s(a)+" ")]):t._e()])})),0)])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_user()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_user(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_user(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])])},j=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],M={name:"users",data(){return{checkboxValues:{},all_roles:[],validate:!1,edit_mode:!1,active_index:"",max_user_id:0,role_id:0,users:[],user_roles:"",user:{id:"",first_name:"",last_name:"",username:"",password:"",password2:"",email:"",date_joined:"",roles:[],roles_list:[]},isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},watch:{},computed:{checkedRoles(){const t={};for(const e in this.user.roles)t[e]=1===this.user.roles[e];return t},search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/hotels/?search="+t}).then((t=>this.Hotels=t.data));this.get_users()}},created(){},async mounted(){await this.get_all_roles(),await new Promise((t=>setTimeout(t,500))),await this.get_roles_before(),0==this.user_roles[this.$route.path.substring(1)]?this.$router.back():await this.get_users()},async beforeCreate(){},methods:{get_roles_before(){this.user_roles=this.$parent.user_roles},get_max_user_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=User"}).then((t=>this.max_user_id=t.data.data.id__max))},async save_user(){try{if(this.check_form()){this.saving=!0;var t=await fetch(l+"/backend/users/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.user)});await this.get_max_user_id(),this.user.roles["user_name"]=this.max_user_id;var e=await fetch(l+"/backend/roles/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.user.roles)});if(t.ok&&e.ok)swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add user:"+this.user.username,time:new Date}),this.get_users(),this.closeModal();else{var s="Error: "+t.status+" "+t.statusText;swal(s,{icon:"error"})}this.saving=!1}}catch(a){console.error()}},async delete_user(t){try{const e=this.user.username;await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async s=>{if(s){var a=await fetch(l+"/backend/users/?id="+t,{method:"delete",headers:{"Content-Type":"application/json"}});if(a.ok)swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:1500}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete user:"+e,time:new Date}),this.clear_form(),await this.get_users(),this.closeModal();else{var i="Error: "+a.status+" "+a.statusText;swal(i,{icon:"error"})}}}))}catch(e){console.error()}},update_user(t){try{this.check_form()&&r.Z.patch("/backend/users/",{id:t,new_data:this.user}).then((t=>{swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3});fetch(l+"/backend/roles/"+this.user.roles.id+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.user.roles)});this.get_users(),this.closeModal(),this.edit_mode=!1})).catch((t=>{console.error();var e="Error: "+t;swal(e,{icon:"error"})}))}catch(e){console.error()}},async update_user1(t){try{if(this.check_form()){var e=await fetch(l+"/backend/users/",{id:t,new_data:this.user},{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.user)});if(e.ok)swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.get_users(),this.closeModal(),this.edit_mode=!1;else{var s="Error: "+e.status+" "+e.statusText;swal(s,{icon:"error"})}}}catch(a){console.error()}},async get_users(){if(1==this.user_roles[this.$route.path.substring(1)])return d.get("backend/users/",{auth:{username:"admin",password:"123"}}).then((t=>this.users=t.data)).catch((t=>{alert(t)}))},async get_roles(){return d.get("backend/get_roles/?user_id="+this.user.id,{auth:{username:"admin",password:"123"}}).then((t=>this.user.roles=t.data)).catch((t=>{}))},async get_role_id(){return d.get("backend/get_role_id/?user_name_id="+this.user.id,{auth:{username:"admin",password:"123"}}).then((t=>this.role_id=t.data.role_id)).catch((t=>{alert(t)}))},async get_all_roles(){return d.get("backend/get_all_roles/",{auth:{username:"admin",password:"123"}}).then((t=>this.all_roles=t.data)).catch((t=>{alert(t)}))},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},async open_add_modal(){await this.get_max_user_id(),this.edit_mode=!1,this.clear_form(),this.user.roles=this.all_roles;for(const t in this.user.roles)this.$set(this.checkboxValues,t,1===this.user.roles[t]);$("#addModal").modal("toggle")},updateUserRole(t,e){this.user.roles[t]=e?1:0},async open_edit_modal(){this.edit_mode=!0;for(const t in this.user.roles)this.$set(this.checkboxValues,t,1===this.user.roles[t]);$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},clear_form(){this.user.first_name="",this.user.last_name="",this.user.username="",this.user.email="",this.user.password="",this.user.password2="",this.validate=!1},async get_user(t){return(0,r.Z)({method:"get",url:l+"/backend/users/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.user=t.data[0]))},async row_click(t){return this.active_index=t,await this.get_user(t),await this.get_roles(),await this.get_role_id(),!0},check_form(){return this.validate=!0,!(!this.user.username||!this.user.email||this.user.password!==this.user.password2)}}},L=M,E=(0,u.Z)(L,N,j,!1,null,null,null),A=E.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"BookingsView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_booking(t.this_row.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.PrintDiv("booking_data")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Bookings Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive",attrs:{id:"main_table"}},[e("table",{staticClass:"table table-hover"},[e("thead",{staticClass:"sticky_header"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Booking on")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Names")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Number")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Hotel")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Duration")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Room ID")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Room Type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Status")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Notes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.booking_rows,(function(s){return e("tr",{key:s.id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.formatDate(s.book_date)))]),e("td",[t._v(t._s(t.$t(s.persons_names+" , "+s.kids_names)))]),e("td",[t._v(t._s(t.$t(s.persons_number+s.kids_number)))]),e("td",[t._v(t._s(t.$t(s.hotel)))]),e("td",[t._v(t._s(t.$t(s.dates)))]),e("td",[t._v(t._s(t.$t(s.room_id)))]),e("td",[t._v(t._s(t.$t(s.room_type)))]),e("td",[t._v(t._s(t.$t(s.status)))]),e("td",[t._v(t._s(t.$t(s.notes)))]),e("td",[t._v(t._s(t.$t(s.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_booking(s.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.PrintDiv("booking_data")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add booking")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit booking")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"book_date"}},[t._v(t._s(t.$t("Booking Date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.book_date,expression:"this_row.book_date"}],staticClass:"form-control",class:{"is-invalid":!this.this_row.book_date&&this.validate,"is-valid":this.this_row.book_date&&this.validate},attrs:{id:"book_date",type:"datetime-local"},domProps:{value:t.this_row.book_date},on:{input:function(e){e.target.composing||t.$set(t.this_row,"book_date",e.target.value)}}}),!this.this_row.book_date&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select The Date"))+" ")]):t._e()]),e("div",{staticClass:"row g-3 form-group"},[e("div",{staticClass:"col-sm-7"},[e("label",{attrs:{for:"hotel"}},[t._v(t._s(t.$t("Hotel")))]),e("v-select",{class:{"is-invalid":!t.this_row.hotel&&t.validate,"is-valid":t.this_row.hotel&&t.validate},attrs:{id:"hotel",options:t.hotels},model:{value:t.this_row.hotel,callback:function(e){t.$set(t.this_row,"hotel",e)},expression:"this_row.hotel"}}),!t.this_row.hotel&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select hotel"))+" ")]):t._e()],1),e("div",{staticClass:"col-sm-3"},[e("label",{attrs:{for:"room_id"}},[t._v(t._s(t.$t("Room ID")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.this_row.room_id,expression:"this_row.room_id"}],staticClass:"form-control",class:{"is-invalid":!this.this_row.room_id&&this.validate,"is-valid":this.this_row.room_id&&this.validate},attrs:{id:"room_id",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.this_row,"room_id",e.target.multiple?s:s[0])}}},t._l(t.rooms,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),!this.this_row.room_id&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select room_id"))+" ")]):t._e()]),e("div",{staticClass:"col-sm-2"},[e("label",{attrs:{for:"room_type"}},[t._v(t._s(t.$t("Type")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.room_type,expression:"this_row.room_type"}],staticClass:"form-control",attrs:{readonly:"",id:"room_type",type:"text"},domProps:{value:t.this_row.room_type},on:{input:function(e){e.target.composing||t.$set(t.this_row,"room_type",e.target.value)}}})])]),e("label",{directives:[{name:"show",rawName:"v-show",value:this.this_row.room_id,expression:"this.this_row.room_id"}],attrs:{for:"dates"}},[t._v(t._s(t.$t("Select Date")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:this.this_row.room_id,expression:"this.this_row.room_id"}],staticClass:"form-group card",staticStyle:{width:"100%"},attrs:{id:"dates"}},[e("div",{staticClass:"card-body"},[e("date-picker",{attrs:{min:t.min_date,max:t.max_date,disable:t.disable_dates,range:t.is_range,clearable:"",locale:"en",inline:"","auto-submit":!1,"custom-input":"none",color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY"},model:{value:t.this_row.dates,callback:function(e){t.$set(t.this_row,"dates",e)},expression:"this_row.dates"}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.dates,expression:"this_row.dates"}],staticClass:"form-control",class:{"is-invalid":!this.this_row.dates&&this.validate,"is-valid":this.this_row.dates&&this.validate},attrs:{readonly:"",id:"dates",type:"text"},domProps:{value:t.this_row.dates},on:{input:function(e){e.target.composing||t.$set(t.this_row,"dates",e.target.value)}}}),!this.this_row.dates&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select The Date"))+" ")]):t._e()]),e("div",{staticClass:"card form-group"},[e("div",{staticClass:"card-header"},[t._v(" "+t._s(t.$t("Guests"))+" ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row g-3 form-group"},[e("div",{staticClass:"col"},[e("label",{attrs:{for:"Adults"}},[t._v(" "+t._s(t.$t("Adults")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.persons_number,expression:"this_row.persons_number"}],staticClass:"form-control",class:{"is-invalid":!this.this_row.persons_number&&this.validate,"is-valid":this.this_row.persons_number&&this.validate},attrs:{id:"Adults",min:"1",max:"15",type:"number"},domProps:{value:t.this_row.persons_number},on:{input:function(e){e.target.composing||t.$set(t.this_row,"persons_number",e.target.value)}}}),!this.this_row.persons_number&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Number of Persons"))+" ")]):t._e()]),e("div",{staticClass:"col"},[e("label",{attrs:{for:"Children"}},[t._v(" "+t._s(t.$t("Children")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.kids_number,expression:"this_row.kids_number"}],staticClass:"form-control",class:{"is-invalid":this.this_row.kids_number<0&&this.validate,"is-valid":this.this_row.kids_number&&this.validate},attrs:{id:"Children",min:"0",max:"10",type:"number"},domProps:{value:t.this_row.kids_number},on:{input:function(e){e.target.composing||t.$set(t.this_row,"kids_number",e.target.value)}}}),this.this_row.kids_number<0&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Number of Kids"))+" ")]):t._e()])]),t.this_row.persons_number>0?e("div",t._l(parseInt(t.this_row.persons_number),(function(s){return e("div",{key:s,staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Adult Name ")+s))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.persons_names[s-1],expression:"this_row.persons_names[i - 1]"}],staticClass:"form-control",class:{"is-invalid":!t.this_row.persons_names[s-1]&&t.validate,"is-valid":t.this_row.persons_names[s-1]&&t.validate},attrs:{type:"text"},domProps:{value:t.this_row.persons_names[s-1]},on:{input:function(e){e.target.composing||t.$set(t.this_row.persons_names,s-1,e.target.value)}}}),!t.this_row.persons_names[s-1]&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The Name of Person")+s)+" ")]):t._e()])})),0):t._e(),t.this_row.kids_number>0?e("div",t._l(parseInt(t.this_row.kids_number),(function(s){return e("div",{key:s,staticClass:"form-group"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",[t._v(t._s(t.$t("Children Name ")+s))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.kids_names[s-1],expression:"this_row.kids_names[i - 1]"}],staticClass:"form-control",class:{"is-invalid":!t.this_row.kids_names[s-1]&&t.validate,"is-valid":t.this_row.kids_names[s-1]&&t.validate},attrs:{type:"text"},domProps:{value:t.this_row.kids_names[s-1]},on:{input:function(e){e.target.composing||t.$set(t.this_row.kids_names,s-1,e.target.value)}}}),!t.this_row.kids_names[s-1]&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Children Name")+s)+" ")]):t._e()]),e("div",{staticClass:"col"},[e("label",[t._v(t._s(t.$t("Children Age ")+s))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.this_row.kids_ages[s-1],expression:"this_row.kids_ages[i - 1]"}],staticClass:"form-control",class:{"is-invalid":!t.this_row.kids_ages[s-1]&&t.validate,"is-valid":t.this_row.kids_ages[s-1]&&t.validate},attrs:{type:"number"},domProps:{value:t.this_row.kids_ages[s-1]},on:{input:function(e){e.target.composing||t.$set(t.this_row.kids_ages,s-1,e.target.value)}}}),!t.this_row.kids_ages[s-1]&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter Children Age")+s)+" ")]):t._e()])])])})),0):t._e()])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("Status")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.this_row.status,expression:"this_row.status"}],staticClass:"form-control",class:{"is-invalid":!this.this_row.status&&this.validate,"is-valid":this.this_row.status&&this.validate},attrs:{id:"status",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.this_row,"status",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("Booked")}},[t._v(t._s(t.$t("Booked"))+" ")]),e("option",{domProps:{value:t.$t("No Show")}},[t._v(t._s(t.$t("No Show"))+" ")])]),!this.this_row.status&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the status"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.this_row.notes,expression:"this_row.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.this_row.notes},on:{input:function(e){e.target.composing||t.$set(t.this_row,"notes",e.target.value)}}})]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.print,expression:"print"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"flexCheckChecked",checked:""},domProps:{checked:Array.isArray(t.print)?t._i(t.print,"")>-1:t.print},on:{change:function(e){var s=t.print,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o="",r=t._i(s,o);a.checked?r<0&&(t.print=s.concat([o])):r>-1&&(t.print=s.slice(0,r).concat(s.slice(r+1)))}else t.print=i}}}),e("label",{staticClass:"form-check-label",attrs:{for:"flexCheckChecked"}},[t._v(" Print ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_booking()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_booking(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_booking(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{directives:[{name:"show",rawName:"v-show",value:this.this_row.persons_names.length>0,expression:"this.this_row.persons_names.length > 0"}],staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Details"))+" ")]),e("div",{staticClass:"dropdown no-arrow"})]),e("div",{staticClass:"card-body",attrs:{id:"booking_data"}},[e("h1",[t._v("Booking #"+t._s(this.this_row.id))]),e("p",[e("b",[t._v("Booking Date:")]),t._v(" "+t._s(this.this_row.book_date)+" "),e("b",[t._v("User:")]),t._v(" "+t._s(this.this_row.user))]),e("div",{staticClass:"container text-center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(2),e("tbody",t._l(this.this_row.persons_names,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s))])])})),0)])]),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(3),e("tbody",t._l(this.this_row.kids_names,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s))])])})),0)])]),e("div",{staticClass:"col"},[e("table",{staticClass:"table"},[t._m(4),e("tbody",t._l(this.this_row.kids_ages,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s))])])})),0)])])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Hotel:")]),t._v(" "+t._s(this.this_row.hotel))])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Room:")]),t._v(" "+t._s(this.this_row.room_id))])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Room Type:")]),t._v(" "+t._s(this.this_row.room_type))])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Status:")]),t._v(" "+t._s(this.this_row.status))])])])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Date Range:")]),t._v(" "+t._s("From :"+this.this_row.dates[0]+" To :"+this.this_row.dates[1]))])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"col-auto"},[e("label",{staticClass:"col-form-label"},[e("b",[t._v("Notes:")]),t._v(" "+t._s(this.this_row.notes))])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary on-hover-sm no_print",attrs:{type:"button",title:"print"},on:{click:function(e){return t.PrintDiv("booking_data")}}},[e("i",{staticClass:"fa fa-print"})])])])])]),e("div")],1)},B=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Persons Name")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Kids Name")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Kids Age")])])])}],Z=s(7958),I=s.n(Z),O=s(4226),U=s.n(O),Y=s(3752),H=s.n(Y),R={name:"BookingsView",components:{NavBar:y,datePicker:I(),vSelect:U(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,is_range:!0,max_id:"",user_roles:"",print:!1,validate:!1,active_index:null,edit_mode:!1,add_mode:!1,booking_rows:[],rooms:[],hotels:[],range:"",booked_dates:[],all_booked_dates:[],all_rooms_booked_dates:[],all_rooms_dates:[],min_date:"",max_date:"",disable_dates:[],room_id_id:"",this_row:{book_date:(new Date).toISOString().slice(0,16),hotel:"",room_id:"",room_type:"",dates:"",out_date:"",all_dates:"",guests:"",status:"",notes:"",persons_number:1,persons_names:[],kids_number:"",kids_names:[],kids_ages:[],user:""},isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},watch:{"this_row.hotel":async function(t){(this.edit_mode||this.add_mode)&&(this.this_row.room_id="",await this.get_rooms(),this.this_row.room_id=this.rooms[0])},"this_row.room_id":function(t){(this.edit_mode||this.add_mode)&&(this.get_room_info(t),this.get_booked_dates())},range:async function(t){const e=t.split(",");this.min_date=e[0],this.max_date=e[1],this.this_row.out_date=this.this_row.dates[1],this.get_booked_dates()}},async mounted(){this.isLoading=!0,this.this_row.user=localStorage.getItem("user_name"),await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),await this.get_booking_rows(),await this.get_hotels();const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);this.isLoading=!1},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/bookings/?search="+t}).then((t=>this.booking_rows=t.data));this.get_booking_rows()}},methods:{formatDate(t){const e=new Date(t),s=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),o=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${s}/${a}/${i} ${o}:${r}`},async get_roles(){return d.get("backend/get_roles/?user_name="+this.this_row.user,{auth:{username:"admin",password:"123"}}).then((t=>this.user_roles=t.data)).catch((t=>{}))},get_booking_rows(){return d.get("/backend/bookings/").then((t=>this.booking_rows=t.data)).catch((t=>{alert(t)}))},async get_booking(t){try{const e=await r.Z.get(`${l}/backend/bookings/?id=${t}`);this.this_row=e.data[0]}catch(e){console.error("Error fetching booking:",e)}},get_hotels(){return d.get("/backend/get_hotels/").then((t=>this.hotels=t.data)).catch((t=>{alert(t)}))},get_open_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_open_rooms/"}).then((t=>this.all_rooms_dates=t.data))},get_rooms(){if(this.this_row.hotel)return(0,r.Z)({method:"get",url:l+"/backend/get_rooms/",params:{hotel:this.this_row.hotel}}).then((t=>this.rooms=t.data))},get_room_info(t){return(0,r.Z)({method:"get",url:l+"/backend/get_room_info/",params:{room_id:t,hotel:this.this_row.hotel}}).then((t=>(this.this_row.room_type=t.data.type,this.room_id_id=t.data.id,this.range=t.data.range)))},async get_booked_dates(){this.this_row.room_id&&this.this_row.hotel&&(this.booked_dates=[],await(0,r.Z)({method:"get",url:l+"/backend/get_booked_dates/",params:{room_id:this.this_row.room_id,hotel:this.this_row.hotel}}).then((t=>this.booked_dates=t.data[0].split(", "))),this.all_booked_dates=[],this.disable_dates=[],this.booked_dates.forEach((t=>{const e=t.split(",")[0].split("/"),s=t.split(",")[1].split("/"),a=new Date(e[2],e[1]-1,e[0]),i=new Date(s[2],s[1]-1,s[0]),o=new Date(a);o.setDate(o.getDate()+1);while(o<i)this.all_booked_dates.push(o.toLocaleDateString("en-GB")),o.setDate(o.getDate()+1)})),this.all_booked_dates.forEach((t=>this.disable_dates.push(t))))},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Bookings"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},open_add_modal(){this.edit_mode=!1,this.add_mode=!0,this.clear_form(),this.this_row.book_date=(new Date).toISOString().slice(0,16),$("#addModal").modal("toggle")},async open_edit_modal(){if(this.user_roles.hotels){this.edit_mode=!0,this.add_mode=!1,this.this_row.all_dates=[],this.this_row.dates.length<2?this.this_row.dates.push(this.this_row.dates[0]):await this.get_booked_dates();const t=this.this_row.dates[0].split("/"),e=this.this_row.dates[1].split("/"),s=new Date(t[2],t[1]-1,t[0]),a=new Date(e[2],e[1]-1,e[0]),i=new Date(s);while(i<=a)this.this_row.all_dates.push(i.toLocaleDateString("en-GB")),i.setDate(i.getDate()+1);this.disable_dates=this.disable_dates.filter((t=>!this.this_row.all_dates.includes(t))),await this.get_rooms(),$("#addModal").modal("toggle")}},clear_form(){this.this_row.persons_names=[],this.this_row.kids_names=[],this.this_row.persons_number=1,this.this_row.kids_number="",this.this_row.hotel="",this.this_row.dates="",this.this_row.room_id="",this.this_row.room_type="",this.this_row.status="",this.this_row.notes="",this.enable_dates=[],this.disable_dates=[],this.validate=!1},closeModal(){this.add_mode=!1,this.edit_mode=!1,$("#addModal").modal("hide"),this.clear_form()},async save_booking(){this.isLoading=!0;try{if(this.check_form()){this.print&&this.PrintDiv("booking_data"),this.this_row.dates.length>1?this.this_row.out_date=this.this_row.dates[1]:this.this_row.dates.push(this.this_row.dates[0]),this.this_row.dates=this.this_row.dates.toString(),this.this_row.kids_number||(this.this_row.kids_number=0),this.this_row.persons_names=this.this_row.persons_names.join(","),this.this_row.kids_names=this.this_row.kids_names.join(","),this.this_row.kids_ages=this.this_row.kids_ages.join(",");await fetch(l+"/backend/bookings/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.this_row)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:1500}),await this.get_max_id(),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add booking :"+this.max_id,time:new Date}),window.location.reload(),this.get_booking_rows(),this.closeModal()}}catch(t){console.error()}this.isLoading=!1},async delete_booking(t){if(this.user_roles.hotels){this.isLoading=!0;try{const e=await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0});e&&(await d["delete"](`/backend/bookings/${t}/`),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete booking :"+t,time:new Date}),this.get_booking_rows(),this.closeModal())}catch(e){console.error("Error deleting booking:",e)}this.isLoading=!1}},async update_booking(t){this.isLoading=!0;try{if(this.check_form()){this.print&&await this.PrintDiv("booking_data"),this.this_row.dates=this.this_row.dates.toString(),this.this_row.persons_names=this.this_row.persons_names.join(","),this.this_row.kids_names=this.this_row.kids_names.join(","),this.this_row.kids_ages=this.this_row.kids_ages.join(",");await fetch(l+"/backend/bookings/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.this_row)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"update booking :"+t,time:new Date}),this.get_booking_rows(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}this.isLoading=!1},async row_click(t){await this.get_booking(t),this.this_row.dates=Array.from(this.this_row.dates.split(",")),this.this_row.persons_names=Array.from(this.this_row.persons_names.split(",")),this.this_row.kids_names=Array.from(this.this_row.kids_names.split(",")),this.this_row.kids_ages=Array.from(this.this_row.kids_ages.split(",")),this.get_room_info(this.this_row.room_id),this.active_index=t},check_form(){return this.validate=!0,!!(this.this_row.book_date&&this.this_row.persons_number&&this.this_row.persons_names&&this.this_row.hotel&&this.this_row.dates&&this.this_row.room_id&&this.this_row.room_type&&this.this_row.status)},async get_max_id(){try{const t=await r.Z.get(`${l}/backend/get_max_id/?table_name=Bookings`);this.max_id=t.data.data.id__max}catch(t){console.error("Error fetching max ID:",t)}},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)}}},V=R,G=(0,u.Z)(V,T,B,!1,null,null,null),F=G.exports,q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Available_hotelView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Available Hotel"))+" ")])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2"}),e("div",{staticClass:"col-sm-2 m-1"},[e("label",{staticClass:"col-form-label",attrs:{for:"inputPassword6"}},[t._v(t._s(t.$t("Hotel")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hotel,expression:"hotel"}],staticClass:"form-control",attrs:{placeholder:"Hotel"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hotel=e.target.multiple?s:s[0]}}},t._l(this.hotels,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s))])})),0)]),e("div",{staticClass:"col-sm-3 m-1"},[e("label",{staticClass:"col-form-label",attrs:{for:"inputPassword6"}},[t._v(t._s(t.$t("Date Range")))]),e("input",{staticClass:"custom-input form-control",attrs:{type:"text",placeholder:"Range","aria-label":"Range"}}),e("date-picker",{attrs:{type:"year-month",clearable:"",locale:"en","auto-submit":!0,color:"#098290","input-format":"MM/YYYY",format:"MM/YYYY","display-format":"jYYYY-jMM","custom-input":".custom-input"},model:{value:t.date_range,callback:function(e){t.date_range=e},expression:"date_range"}})],1),e("div",{staticClass:"col-sm-2 m-1"},[e("label",{staticClass:"col-form-label",attrs:{for:"inputPassword6"}},[t._v(t._s(t.$t("Room Type")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.room_type,expression:"room_type"}],staticClass:"form-control",attrs:{id:"room_type",placeholder:"Room Type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.room_type=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"SGL"}},[t._v(" SGL")]),e("option",{attrs:{value:"DBL"}},[t._v(" DBL")]),e("option",{attrs:{value:"TRPL"}},[t._v(" TRPL")]),e("option",{attrs:{value:"QAD"}},[t._v(" QAD")])])])])])]),e("br"),e("div",{staticClass:"table-responsive",attrs:{id:"monitor_table"}},[e("table",{staticClass:"table-sm table"},[e("thead",{staticClass:"sticky_header"},[e("tr",[e("th",[t._v("Room - Hotel")]),t._l(31,(function(s){return e("th",{key:s,attrs:{scope:"col"}},[t._v(t._s(s))])}))],2)]),e("tbody",t._l(this.open_dates,(function(s){return e("tr",{key:s.name},[e("td",[e("p",[t._v(t._s(s.categ+"/"+s.name))])]),t._l(31,(function(a){return e("td",{key:a,attrs:{id:s.name+"_"+a.toString().padStart(2,"0")}},t._l(s.dates,(function(t){return e("button",{directives:[{name:"show",rawName:"v-show",value:a==t.slice(0,2),expression:"ii == d.slice(0, 2)"}],key:t,staticClass:"btn btn-success",attrs:{title:s.categ+"/"+s.name,type:"button"}})})),0)})),e("br"),e("br")],2)})),0)])])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],1)},z=[],J={name:"Available_hotelView",components:{NavBar:y,datePicker:I(),vSelect:U(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,user_roles:"",test:[],date_range:[],all_range_dates:[],hotel:"",room_type:"",hotels:[],open_dates:[],close_dates:[],no_show_dates:[]}},async mounted(){await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),await this.get_hotels(),await this.get_monitor(),await this.create_closed();const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0])},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/bookings/?search="+t}).then((t=>this.booking_rows=t.data))}},watch:{date_range:async function(t){await this.get_monitor(),await this.filter_dates(),this.create_closed()},hotel:async function(t){this.date_range.length>0&&(await this.get_monitor(),await this.filter_dates(),this.create_closed())},room_type:async function(t){this.date_range.length>0&&(await this.get_monitor(),await this.filter_dates(),this.create_closed())},close_dates:function(t){t.forEach((t=>{const e=[],s=t.dates.split(" / ");s.forEach((t=>{const s=t.split(",")[0].split("/"),a=t.split(",")[1].split("/"),i=new Date(s[2],s[1]-1,s[0]),o=new Date(a[2],a[1]-1,a[0]),r=new Date(i);while(r<o)e.push(r.toLocaleDateString("en-GB")),r.setDate(r.getDate()+1)})),t.dates=[...new Set(e)]}))},no_show_dates:function(t){t.forEach((t=>{const e=[],s=t.dates.split(" / ");s.forEach((t=>{const s=t.split(",")[0].split("/"),a="";try{a=t.split(",")[1].split("/")}catch(n){}const i=new Date(s[2],s[1]-1,s[0]),o=i;a&&(o=new Date(a[2],a[1]-1,a[0]));const r=new Date(i);while(r<=o)e.push(r.toLocaleDateString("en-GB")),r.setDate(r.getDate()+1)})),t.dates=[...new Set(e)]}))}},methods:{get_roles(){this.user_roles=this.$parent.user_roles},filter_dates(){if(this.date_range){let t=this.date_range.split("/")[0],e=this.date_range.split("/")[1];this.open_dates.forEach((s=>{s.dates=s.dates.filter((s=>{const a=s.split("/");return a[2]==e&&a[1]==t}))})),this.close_dates.forEach((s=>{s.dates=s.dates.filter((s=>{const a=s.split("/");return a[2]==e&&a[1]==t})),s.out_dates=s.out_dates.split(","),s.out_dates=s.out_dates.filter((s=>{const a=s.split("/");return a[2]==e&&a[1]==t})),s.out_dates=s.out_dates.toString()})),this.no_show_dates.forEach((s=>{s.dates=s.dates.filter((s=>{const a=s.split("/");return a[2]==e&&a[1]==t}))}))}},async create_closed(){this.close_dates.forEach((t=>{try{t.dates.forEach((function(e){var s=document.getElementById(t.name+"_"+e.slice(0,2)),a=document.createElement("button");a.className="btn btn-danger",a.title=t.name,s.appendChild(a)}))}catch(e){}})),this.close_dates.forEach((t=>{try{t.out_dates=t.out_dates.split(","),t.out_dates.forEach((function(e){const[s,a,i]=e.split("/"),o=new Date(`${a}/${s}/${i}`);o.setDate(o.getDate());const r=`${o.getDate().toString().padStart(2,"0")}/${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getFullYear()}`;if(!t.dates.includes(r)){var n=document.getElementById(t.name+"_"+e.slice(0,2));n.innerHTML="";var l=document.createElement("button");l.className="btn btn-danger tow_color",n.appendChild(l)}}))}catch(e){}})),this.no_show_dates.forEach((t=>{try{t.dates.forEach((function(e){var s=document.getElementById(t.name+"_"+e.slice(0,2)),a=document.createElement("button");s.innerHTML="",a.className="btn btn-warning",s.appendChild(a)}))}catch(e){}}))},get_hotels(){return d.get("/backend/get_hotels/").then((t=>this.hotels=t.data)).catch((t=>{alert(t)}))},async get_monitor(){this.isLoading=!0,this.close_dates=[],this.open_dates=[],await this.get_open_rooms(),await this.get_close_rooms(),await this.get_no_show_rooms();for(let t of this.close_dates){let e=t.name,s=t.dates;for(let t of this.open_dates)t.name===e&&(t.dates=t.dates.filter((t=>!s.includes(t))))}this.isLoading=!1},get_open_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_open_rooms/",params:{hotel:this.hotel,room_type:this.room_type}}).then((t=>this.open_dates=t.data))},get_close_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_close_rooms/",params:{hotel:this.hotel,room_type:this.room_type,month:this.date_range}}).then((t=>this.close_dates=t.data))},get_no_show_rooms(){return(0,r.Z)({method:"get",url:l+"/backend/get_no_show_rooms/",params:{hotel:this.hotel,room_type:this.room_type,month:this.date_range}}).then((t=>{this.no_show_dates=t.data}))},get_rooms(){if(this.this_row.hotel)return(0,r.Z)({method:"get",url:l+"/backend/get_rooms/",params:{hotel:this.this_row.hotel,persons:this.this_row.persons_number}}).then((t=>this.rooms=t.data))},get_room_info(t){return(0,r.Z)({method:"get",url:l+"/backend/get_room_info/",params:{room_id:t,hotel:this.this_row.hotel}}).then((t=>(this.this_row.room_type=t.data.type,this.room_id_id=t.data.id,this.range=t.data.range)))}}},X=J,Q=(0,u.Z)(X,q,z,!1,null,null,null),K=Q.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"HotelsView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_hotel(t.hotel.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Hotels Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover",attrs:{id:"mytable"}},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Country")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("City")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Area")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Rate")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Allotment")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Notes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.hotels_rows,(function(s){return e("tr",{key:s.hotel_id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.name)))]),e("td",[t._v(t._s(t.$t(s.country)))]),e("td",[t._v(t._s(t.$t(s.city)))]),e("td",[t._v(t._s(t.$t(s.area)))]),e("td",[t._v(t._s(t.$t(s.rate)))]),e("td",[t._v(t._s(t.$t(s.allotment)))]),e("td",[t._v(t._s(t.$t(s.notes)))]),e("td",[t._v(t._s(t.$t(s.user)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_hotel(t.hotel.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add hotel")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit hotel")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"name"}},[t._v(" "+t._s(t.$t("name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.name,expression:"hotel.name"}],staticClass:"form-control",class:{"is-invalid":!this.hotel.name&&this.validate,"is-valid":this.hotel.name&&this.validate},attrs:{id:"name",type:"text"},domProps:{value:t.hotel.name},on:{input:function(e){e.target.composing||t.$set(t.hotel,"name",e.target.value)}}}),!this.hotel.name&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The name"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"country"}},[t._v(" "+t._s(t.$t("country")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.country,expression:"hotel.country"}],staticClass:"form-control",class:{"is-invalid":!this.hotel.country&&this.validate,"is-valid":this.hotel.country&&this.validate},attrs:{id:"country",type:"text",list:"country-list"},domProps:{value:t.hotel.country},on:{input:function(e){e.target.composing||t.$set(t.hotel,"country",e.target.value)}}}),e("datalist",{attrs:{id:"country-list"}},t._l(t.countries,(function(s){return e("option",{key:s.name.common,domProps:{value:s.name.common}},[t._v(" "+t._s(s.name.common)+" ")])})),0),!this.hotel.country&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The country"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"city"}},[t._v(" "+t._s(t.$t("city")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.city,expression:"hotel.city"}],staticClass:"form-control",class:{"is-invalid":!this.hotel.city&&this.validate,"is-valid":this.hotel.city&&this.validate},attrs:{id:"city",type:"text"},domProps:{value:t.hotel.city},on:{input:function(e){e.target.composing||t.$set(t.hotel,"city",e.target.value)}}}),!this.hotel.city&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The city"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"area"}},[t._v(" "+t._s(t.$t("area")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.area,expression:"hotel.area"}],staticClass:"form-control",class:{"is-invalid":!this.hotel.area&&this.validate,"is-valid":this.hotel.name&&this.validate},attrs:{id:"area",type:"text"},domProps:{value:t.hotel.area},on:{input:function(e){e.target.composing||t.$set(t.hotel,"area",e.target.value)}}}),!this.hotel.area&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The area"))+" ")]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"rate"}},[t._v(t._s(t.$t("rate")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hotel.rate,expression:"hotel.rate"}],staticClass:"form-control",class:{"is-invalid":!this.hotel.rate&&this.validate,"is-valid":this.hotel.rate&&this.validate},attrs:{id:"rate",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.hotel,"rate",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:t.$t("5 Star")}},[t._v(t._s(t.$t("5 Star"))+" ")]),e("option",{domProps:{value:t.$t("4 Star")}},[t._v(t._s(t.$t("4 Star"))+" ")]),e("option",{domProps:{value:t.$t("3 Star")}},[t._v(t._s(t.$t("3 Star"))+" ")]),e("option",{domProps:{value:t.$t("2 Star")}},[t._v(t._s(t.$t("2 Star"))+" ")]),e("option",{domProps:{value:t.$t("1 Star")}},[t._v(t._s(t.$t("1 Star"))+" ")])]),!this.hotel.rate&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the rate"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"allotment"}},[t._v(" "+t._s(t.$t("allotment")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.allotment,expression:"hotel.allotment"}],staticClass:"form-control",attrs:{type:"number",min:"1",value:"1",id:"allotment"},domProps:{value:t.hotel.allotment},on:{input:function(e){e.target.composing||t.$set(t.hotel,"allotment",e.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"hotel_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.hotel.notes,expression:"hotel.notes"}],staticClass:"form-control",attrs:{id:"hotel_notes",rows:"1"},domProps:{value:t.hotel.notes},on:{input:function(e){e.target.composing||t.$set(t.hotel,"notes",e.target.value)}}})])]),this.hotel.allotment>0?e("div",{staticClass:"card form-group"},[e("h4",{staticClass:"card-header"},[t._v(" "+t._s(t.$t("Rooms"))+" ")]),e("div",{staticClass:"card-body"},t._l(parseInt(t.hotel.allotment),(function(s){return e("div",{key:s},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(" "+t._s(t.$t("Room")+" "+s)+" ")]),e("div",{staticClass:"card-body"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].hotel,expression:"hotel.room[i - 1].hotel"}],attrs:{hidden:"",type:"text"},domProps:{value:t.hotel.room[s-1].hotel},on:{input:function(e){e.target.composing||t.$set(t.hotel.room[s-1],"hotel",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].room_id,expression:"hotel.room[i - 1].room_id"}],attrs:{hidden:"",type:"text"},domProps:{value:t.hotel.room[s-1].room_id},on:{input:function(e){e.target.composing||t.$set(t.hotel.room[s-1],"room_id",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].user,expression:"hotel.room[i - 1].user"}],attrs:{hidden:"",type:"text"},domProps:{value:t.hotel.room[s-1].user},on:{input:function(e){e.target.composing||t.$set(t.hotel.room[s-1],"user",e.target.value)}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"room_type"}},[t._v(t._s(t.$t("Room Type")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].room_type,expression:"hotel.room[i - 1].room_type"}],staticClass:"form-control",class:{"is-invalid":!t.hotel.room[s-1].room_type&&t.validate,"is-valid":t.hotel.room[s-1].room_type&&t.validate},attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.hotel.room[s-1],"room_type",e.target.multiple?a:a[0])}}},[e("option",{domProps:{value:t.$t("SGL")}},[t._v(t._s(t.$t("SGL"))+" ")]),e("option",{domProps:{value:t.$t("DBL")}},[t._v(t._s(t.$t("DBL"))+" ")]),e("option",{domProps:{value:t.$t("TRPL")}},[t._v(t._s(t.$t("TRPL"))+" ")]),e("option",{domProps:{value:t.$t("QAD")}},[t._v(t._s(t.$t("QAD"))+" ")])]),!t.hotel.room[s-1].room_type&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the room type"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"room_categ"}},[t._v(t._s(t.$t("Room Category")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].room_categ,expression:"hotel.room[i - 1].room_categ"}],staticClass:"form-control",class:{"is-invalid":!t.hotel.room[s-1].room_categ&&t.validate,"is-valid":t.hotel.room[s-1].room_categ&&t.validate},attrs:{type:"text"},domProps:{value:t.hotel.room[s-1].room_categ},on:{input:function(e){e.target.composing||t.$set(t.hotel.room[s-1],"room_categ",e.target.value)}}}),!t.hotel.room[s-1].room_categ&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Input Room Category"))+" ")]):t._e()]),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"meals"}},[t._v(t._s(t.$t("Meals")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].meals,expression:"hotel.room[i - 1].meals"}],staticClass:"form-control",class:{"is-invalid":!t.hotel.room[s-1].meals&&t.validate,"is-valid":t.hotel.room[s-1].meals&&t.validate},attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.hotel.room[s-1],"meals",e.target.multiple?a:a[0])}}},[e("option",{domProps:{value:t.$t("B.B")}},[t._v(t._s(t.$t("B.B"))+" ")]),e("option",{domProps:{value:t.$t("H.B")}},[t._v(t._s(t.$t("H.B"))+" ")]),e("option",{domProps:{value:t.$t("F.B")}},[t._v(t._s(t.$t("F.B"))+" ")]),e("option",{domProps:{value:t.$t("ALL")}},[t._v(t._s(t.$t("ALL"))+" ")]),e("option",{domProps:{value:t.$t("ULALL")}},[t._v(t._s(t.$t("ULALL"))+" ")])]),!t.hotel.room[s-1].meals&&t.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select Meals"))+" ")]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Date Range")))]),e("date-picker",{attrs:{range:"",clearable:"","auto-submit":!0,color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY",locale:"en"},model:{value:t.hotel.room[s-1].range,callback:function(e){t.$set(t.hotel.room[s-1],"range",e)},expression:"hotel.room[i - 1].range"}})],1),e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.hotel.room[s-1].notes,expression:"hotel.room[i - 1].notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.hotel.room[s-1].notes},on:{input:function(e){e.target.composing||t.$set(t.hotel.room[s-1],"notes",e.target.value)}}})])])])]),e("br")])})),0)]):t._e()])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_hotel()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_hotel(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_hotel(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])])],1)},tt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],et=s(8682),st=s.n(et),at={name:"HotelsView",components:{NavBar:y,datePicker:I(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,user:"",saving:!1,validate:!1,base_url:window.location.origin+"/media/hotels/",previewImage:null,img_file:null,active_index:null,countries:[],selectedCountry:"",cities:[],hotels_rows:[],hotel:{id:"",name:"",country:"",city:"",area:"",rate:"",allotment:0,notes:"",user:"",room:[{id:"",hotel:"",room_id:"",room_categ:"",room_type:"",meals:"",persons:0,range:[],range_dates:[],notes:"",user:""}]},old_rooms:[],user_roles:"",selected_hotel:[],edit_mode:!1,max_id:0,max_room_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){this.isLoading=!0,this.hotel.user=localStorage.getItem("user_name");const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_Hotels(),await this.get_max_room_id(),await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),r.Z.get("https://restcountries.com/v3/all").then((t=>{this.countries=t.data.sort(((t,e)=>{const s=t.name.common.toUpperCase(),a=e.name.common.toUpperCase();return s<a?-1:s>a?1:0}))})).catch((t=>{console.log(t)})),this.isLoading=!1},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/hotels/?search="+t}).then((t=>this.Hotels=t.data));this.get_Hotels()}},watch:{"hotel.allotment"(t){try{if(t>this.hotel.room.length){const e=t-this.hotel.room.length;for(let t=0;t<e;t++)this.hotel.room.push({})}else if(t<this.hotel.room.length){const e=this.hotel.room.length-t;this.hotel.room.splice(t,e)}}catch(e){}},"hotel.country"(){this.getCities()},selected_hotel(t){this.hotel.id=t.id,this.hotel.name=t.name,this.hotel.country=t.country,this.hotel.city=t.city,this.hotel.area=t.area,this.hotel.rate=t.rate,this.hotel.allotment=t.allotment,this.hotel.notes=t.notes,this.hotel.user=t.user}},methods:{get_roles(){this.user_roles=this.$parent.user_roles},get_Hotels(){return d.get("/backend/hotels/").then((t=>this.hotels_rows=t.data)).catch((t=>{alert(t)}))},get_rooms(t){return d.get("/backend/rooms/?hotel_id="+t).then((t=>this.hotel.room=t.data)).catch((t=>{alert(t)}))},getCities(){const t="02b73423a39d9b8cac6e6d534b3f1268";r.Z.get("https://api.openweathermap.org/data/2.5/find",{params:{q:this.hotel.country,type:"like",sort:"population",cnt:10,appid:t}}).then((t=>{this.cities=t.data.list.map((t=>t.name))})).catch((t=>{console.log(t)}))},async save_hotel(){this.isLoading=!0;try{if(this.check_form()){this.saving=!0,this.get_persons();var t=await fetch(l+"/backend/hotels/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.hotel)});if(t.ok){await this.get_max_id();for(const[t,e]of this.hotel.room.entries()){e.hotel=this.max_id,e.user=this.hotel.user,e.room_id="room_"+(parseInt(t)+1),e.range=e.range.toString(),await fetch(l+"/backend/rooms/",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8"}}),await this.get_max_room_id(),e.range=e.range.split(",");let s=e.range[0],a=e.range[1];const i=s.split("/"),o=a.split("/"),r=new Date(i[2],i[1]-1,i[0]),n=new Date(o[2],o[1]-1,o[0]),d=new Date(r);e.range_dates=[];while(d<=n)e.range_dates.push(d.toLocaleDateString("en-GB")),d.setDate(d.getDate()+1);e.range_dates.forEach((t=>{fetch(l+"/backend/room_dates/",{method:"post",body:JSON.stringify({room_id:this.max_room_id,date:t}),headers:{"Content-Type":"application/json;charset=UTF-8"}})}))}st()(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_max_id(),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add hotel:"+this.max_id,time:new Date}),this.get_Hotels(),this.closeModal()}else{var e="Error: "+t.status+" "+t.statusText;st()(e,{icon:"error"})}this.saving=!1}}catch(s){console.error()}this.isLoading=!1},get_persons(){this.hotel.room.forEach((t=>{switch(t.room_type){case"SGL":t.persons=1;break;case"DBL":t.persons=2;break;case"TRPL":t.persons=3;break;case"QAD":t.persons=4;break}}))},async update_hotel(t){this.isLoading=!0;try{if(this.check_form()){this.get_persons();var e=await fetch(l+"/backend/hotels/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.hotel)});if(e.ok){await this.delete_hotel_rooms(this.hotel.id);for(const[t,e]of this.hotel.room.entries()){e.hotel=this.hotel.id,e.user=this.hotel.user,e.room_id="room_"+(parseInt(t)+1),e.range=e.range.toString(),await fetch(l+"/backend/rooms/",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8"}}),await this.get_max_room_id(),e.range=e.range.split(",");let s=e.range[0],a=e.range[1];const i=s.split("/"),o=a.split("/"),r=new Date(i[2],i[1]-1,i[0]),n=new Date(o[2],o[1]-1,o[0]),d=new Date(r);e.range_dates=[];while(d<=n)e.range_dates.push(d.toLocaleDateString("en-GB")),d.setDate(d.getDate()+1);e.range_dates.forEach((t=>{fetch(l+"/backend/room_dates/",{method:"post",body:JSON.stringify({room_id:this.max_room_id,date:t}),headers:{"Content-Type":"application/json;charset=UTF-8"}})}))}st()(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"update hotel:"+t,time:new Date}),this.max_id=this.hotel.id,this.get_Hotels(),this.closeModal(),this.edit_mode=!1}else{var s="Error: "+e.status+" "+e.statusText;st()(s,{icon:"error"})}}}catch(a){console.error()}this.isLoading=!1},delete_hotel_rooms(t){return(0,r.Z)({method:"get",url:l+"/backend/delete_hotel_rooms/?hotel_id="+t})},async delete_hotel(t){this.isLoading=!0;try{await st()({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var s=await fetch(l+"/backend/hotels/"+t+"/",{method:"delete",headers:{"Content-Type":"application/json"}});if(s.ok)st()(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete hotel:"+t,time:new Date}),this.clear_form(),await this.get_Hotels(),this.closeModal();else{var a="Error: "+s.status+" "+s.statusText;st()(a,{icon:"error"})}}}))}catch(e){console.error()}this.isLoading=!1},async get_hotel(t){return(0,r.Z)({method:"get",url:l+"/backend/hotels/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.selected_hotel=t.data[0]))},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Hotels"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Hotels"}).then((t=>this.max_id=t.data.data.id__max))},get_max_room_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Rooms"}).then((t=>this.max_room_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,this.user=localStorage.getItem("user_name"),this.old_rooms=this.hotel.room.slice(),this.hotel.room.forEach((t=>{t.range=t.range.split(",")})),$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},close_details_Modal(){$("#detailsModal").modal("hide")},async row_click(t){return this.active_index=t,await this.get_hotel(t),await this.get_rooms(t),!0},clear_form(){this.hotel.name="",this.hotel.country="",this.hotel.city="",this.hotel.area="",this.hotel.rate="",this.hotel.allotment=0,this.hotel.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.hotel.allotment>0&&this.hotel.name&&this.hotel.country&&this.hotel.rate)}}},it=at,ot=(0,u.Z)(it,W,tt,!1,null,null,null),rt=ot.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Hotels_reportView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_hotel(t.hotel.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Search"))+" ")])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3"}),e("div",{staticClass:"col-sm-3 m-1"},[e("label",{attrs:{for:"hotel"}},[t._v(t._s(t.$t("Hotel")))]),e("v-select",{attrs:{id:"hotel",options:t.hotels},model:{value:t.hotel,callback:function(e){t.hotel=e},expression:"hotel"}})],1),e("div",{staticClass:"col-sm-3 m-1"},[e("label",{attrs:{for:"range"}},[t._v(t._s(t.$t("Select Range")))]),e("input",{staticClass:"form-control date_input",attrs:{type:"text"}}),e("date-picker",{attrs:{range:"",clearable:"",locale:"en","auto-submit":!0,"custom-input":".date_input",color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY"},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.hotel_name,expression:"data.hotel_name"}],staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Report"))+" ")])]),e("div",{ref:"exportContent",staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h1",[t._v(t._s(this.data.hotel_name)+" Hotel ")]),e("p",[e("b",[t._v("Range:")]),t._v(" "+t._s(this.data.from_date)+" to : "+t._s(this.data.to_date)+" ")]),e("div",{staticClass:"table-responsive",attrs:{id:"books_table"}},[e("table",{staticClass:"table table-hover"},[e("thead",{staticClass:"sticky_header"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Names")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Gustes")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Range")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Room ID")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Room Type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Room Categ")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Meals")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Notes")))])])]),e("tbody",t._l(this.bookings,(function(s){return e("tr",{key:s.id},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.persons_names+" , "+s.kids_names)))]),e("td",[t._v(t._s(t.$t(s.persons_number+s.kids_number)))]),e("td",[t._v(t._s(t.$t(s.dates)))]),e("td",[t._v(t._s(t.$t(s.room_id)))]),e("td",[t._v(t._s(t.$t(s.room_type)))]),e("td",[t._v(t._s(t.$t(s.room_categ)))]),e("td",[t._v(t._s(t.$t(s.meals)))]),e("td",[t._v(t._s(t.$t(s.notes)))])])})),0)])]),e("br"),e("hr"),e("p",{staticClass:"text-right"},[e("b",[t._v("User:")]),t._v(" "+t._s(this.data.user))])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:this.bookings.length,expression:"this.bookings.length"}],staticClass:"card-footer text-muted"},[e("button",{staticClass:"btn btn-primary m-1",attrs:{type:"button"},on:{click:t.exportToWord}},[e("i",{staticClass:"fa-solid fa-file-word"})]),e("button",{staticClass:"btn btn-primary m-1",attrs:{type:"button"},on:{click:t.exportToExcel}},[e("i",{staticClass:"fa-solid fa-file-excel"})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],1)},lt=[],dt=s(3475),ct=s.n(dt),ht=s(6154),mt={name:"Hotels_reportView",components:{NavBar:y,vSelect:U(),datePicker:I(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,validate:!1,user_roles:"",hotel:"",range:"",hotels:[],rooms:[],bookings:[],data:{hotel_name:"",room:"",from_date:"",to_date:"",names:"",meals:"",notes:"",user:""},isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){this.isLoading=!0,await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),this.data.user=localStorage.getItem("user_name");const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_hotels(),r.Z.get("https://restcountries.com/v3/all").then((t=>{this.countries=t.data.sort(((t,e)=>{const s=t.name.common.toUpperCase(),a=e.name.common.toUpperCase();return s<a?-1:s>a?1:0}))})).catch((t=>{console.log(t)})),this.isLoading=!1},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/hotels/?search="+t}).then((t=>this.Hotels=t.data))}},watch:{hotel(){this.get_report()},range(){this.get_report()},bookings(t){this.data.hotel_name=this.hotel,this.data.from_date=this.range[0],this.data.to_date=this.range[1]}},methods:{get_roles(){this.user_roles=this.$parent.user_roles},get_hotels(){return d.get("/backend/get_hotels/").then((t=>this.hotels=t.data)).catch((t=>{alert(t)}))},get_rooms(t){return d.get("/backend/rooms/?hotel_id="+t).then((t=>this.rooms=t.data)).catch((t=>{alert(t)}))},get_report(){return this.isLoading=!0,d.get("/backend/booking_report/?hotel="+this.hotel+"&from_date="+this.range[0]+"&to_date="+this.range[1]).then((t=>(this.bookings=t.data,this.isLoading=!1,r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"get report for:"+this.hotel+" from :"+this.range[0]+" to :"+this.range[1],time:new Date})))).catch((t=>{alert(t)}))},exportToExcel(){this.isLoading=!0;const t=ct().utils.table_to_book(document.querySelector("#books_table"));ct().writeFile(t,this.hotel+" on "+this.range+".xlsx"),this.isLoading=!1},exportToWord(){this.isLoading=!0;const t=this.$refs.exportContent.innerHTML,e=`<html><body>${t}</body></html>`,s=new Blob([e],{type:"application/msword"});(0,ht.saveAs)(s,this.hotel+" on "+this.range+".doc"),this.isLoading=!1},getCities(){const t="02b73423a39d9b8cac6e6d534b3f1268";r.Z.get("https://api.openweathermap.org/data/2.5/find",{params:{q:this.data.country,type:"like",sort:"population",cnt:10,appid:t}}).then((t=>{this.cities=t.data.list.map((t=>t.name))})).catch((t=>{console.log(t)}))},async save_hotel(){try{if(this.check_form()){this.saving=!0,this.get_persons();var t=await fetch(l+"/backend/hotels/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.data)});if(t.ok){await this.get_max_id();for(const[t,e]of this.data.room.entries()){e.hotel=this.max_id,e.user=this.data.user,e.room_id="room_"+(parseInt(t)+1),e.range=e.range.toString(),await fetch(l+"/backend/rooms/",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8"}}),await this.get_max_room_id(),e.range=e.range.split(",");let s=e.range[0],a=e.range[1];const i=s.split("/"),o=a.split("/"),r=new Date(i[2],i[1]-1,i[0]),n=new Date(o[2],o[1]-1,o[0]),d=new Date(r);e.range_dates=[];while(d<=n)e.range_dates.push(d.toLocaleDateString("en-GB")),d.setDate(d.getDate()+1);e.range_dates.forEach((t=>{fetch(l+"/backend/room_dates/",{method:"post",body:JSON.stringify({room_id:this.max_room_id,date:t}),headers:{"Content-Type":"application/json;charset=UTF-8"}})}))}st()(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),this.get_Hotels(),await this.get_max_id(),this.closeModal()}else{var e="Error: "+t.status+" "+t.statusText;st()(e,{icon:"error"})}this.saving=!1}}catch(s){console.error()}},get_persons(){this.data.room.forEach((t=>{switch(t.room_type){case"SGL":t.persons=1;break;case"DBL":t.persons=2;break;case"TRPL":t.persons=3;break;case"QAD":t.persons=4;break}}))},async update_hotel(t){try{if(this.check_form()){this.data.range=this.data.range.toString();var e=await fetch(l+"/backend/hotels/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.data)});if(e.ok)this.range_dates.forEach((t=>{fetch(l+"/backend/hotel_dates/",{method:"post",body:JSON.stringify({hotel_id:this.max_id,date:t}),headers:{"Content-Type":"application/json;charset=UTF-8"}})})),st()(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),this.max_id=this.data.id,this.get_Hotels(),this.closeModal(),this.edit_mode=!1;else{var s="Error: "+e.status+" "+e.statusText;st()(s,{icon:"error"})}}}catch(a){console.error()}},async delete_hotel(t){try{await st()({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var s=await fetch(l+"/backend/hotels/"+t+"/",{method:"delete",headers:{"Content-Type":"application/json"}});if(s.ok)st()(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),this.clear_form(),await this.get_Hotels(),this.closeModal();else{var a="Error: "+s.status+" "+s.statusText;st()(a,{icon:"error"})}}}))}catch(e){console.error()}},async get_hotel(t){return(0,r.Z)({method:"get",url:l+"/backend/hotels/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.selected_hotel=t.data[0]))},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Hotels"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Hotels"}).then((t=>this.max_id=t.data.data.id__max))},get_max_room_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Rooms"}).then((t=>this.max_room_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,this.data.room.forEach((t=>{t.range=t.range.split(",")})),$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},close_details_Modal(){$("#detailsModal").modal("hide")},async row_click(t){return this.active_index=t,await this.get_hotel(t),await this.get_rooms(t),!0},clear_form(){this.data.name="",this.data.country="",this.data.city="",this.data.area="",this.data.rate="",this.data.allotment=0,this.data.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.data.name&&this.data.country&&this.data.rate)}}},_t=mt,ut=(0,u.Z)(_t,nt,lt,!1,null,null,null),pt=ut.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"backupsView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.restore_backup(t.active_index)}}},[e("i",{staticClass:"fa fa-arrow-right-arrow-left"}),t._v(" "+t._s(t.$t("Restore"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_backup(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Backups Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.save_backup()}}},[e("i",{staticClass:"fa fa-download"}),t._v(" "+t._s(t.$t("Save Backup"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover",attrs:{id:"mytable"}},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Time")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Size")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.backups_rows,(function(s){return e("tr",{key:s.name,class:{selected:s.name===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.name)}],click:function(e){return t.row_click(s.name)}}},[e("td",[t._v(t._s(t.$t(s.name)))]),e("td",[t._v(t._s(t.$t(s.time)))]),e("td",[t._v(t._s(t.$t(s.size)))]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.restore_backup(s.name)}}},[e("i",{staticClass:"fa fa-arrow-right-arrow-left"}),t._v(" "+t._s(t.$t("Restore"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_backup(s.name)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")])])])])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],1)},gt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])}],ft={name:"backupsView",components:{NavBar:y,datePicker:I(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,user:"",base_url:window.location.origin+"/media/backups/",active_index:null,backups_rows:[],user_roles:"",max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){this.isLoading=!0;const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_backups(),await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),r.Z.get("https://restcountries.com/v3/all").then((t=>{this.countries=t.data.sort(((t,e)=>{const s=t.name.common.toUpperCase(),a=e.name.common.toUpperCase();return s<a?-1:s>a?1:0}))})).catch((t=>{console.log(t)})),this.isLoading=!1},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/backups/?search="+t}).then((t=>this.backups=t.data));this.get_backups()}},methods:{get_roles(){this.user_roles=this.$parent.user_roles},get_backups(){return d.get("/backend/get_backup_files/").then((t=>this.backups_rows=t.data.data)).catch((t=>{alert(t)}))},async save_backup(){this.isLoading=!0;try{d.get("/backend/save_backup/").then(st()(this.$t("Saved!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"save backup",time:new Date})).catch((t=>{st()(t,{icon:"error"})}))}catch(t){console.error()}await this.get_backups(),this.isLoading=!1},async restore_backup(t){await st()({title:this.$t("Are you sure to restore "+t+" backup?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){this.isLoading=!0,await this.save_backup();try{d.get("/backend/restore_backup/?backup_name="+t).then(st()(this.$t("Restored!"),{buttons:!1,icon:"success",timer:2e3})).catch((t=>{st()(t,{icon:"error"})})),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"restore backup :"+t,time:new Date})}catch(s){console.error()}await this.get_backups(),this.isLoading=!1}}))},async delete_backup(t){this.isLoading=!0;try{await st()({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{if(e){var s=await fetch(l+"/backend/remove_backup_file/?backup_name="+t,{method:"get",headers:{"Content-Type":"application/json"}});if(s.ok)st()(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete backup :"+t,time:new Date}),await this.get_backups();else{var a="Error: "+s.status+" "+s.statusText;st()(a,{icon:"error"})}}}))}catch(e){console.error()}this.isLoading=!1},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("backups"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},async row_click(t){return this.active_index=t,await this.get_backup(t),await this.get_rooms(t),!0}}},bt=ft,wt=(0,u.Z)(bt,vt,gt,!1,null,null,null),Ct=wt.exports,yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"logsView"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Logs Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2"}),e("div",{staticClass:"col-sm-2 m-1"},[e("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("User")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",attrs:{placeholder:"user"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.user=e.target.multiple?s:s[0]},function(e){return t.filter_data()}]}},t._l(this.users,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s))])})),0)]),e("div",{staticClass:"col-sm-4 m-1"},[e("label",{staticClass:"col-form-label"},[t._v(t._s(t.$t("Date Range")))]),e("input",{staticClass:"custom-input form-control",attrs:{type:"text",placeholder:"Range","aria-label":"Range"}}),e("date-picker",{attrs:{range:!0,clearable:"",locale:"en","auto-submit":!0,color:"#098290","input-format":"DD/MM/YYYY",format:"DD/MM/YYYY","display-format":"DD/MM/YYYY","custom-input":".custom-input"},on:{change:function(e){return t.filter_data()}},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)])])]),e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover",attrs:{id:"mytable"}},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("User Name")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Log")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Time")))])])]),e("tbody",t._l(this.logs_rows,(function(s){return e("tr",{key:s.name,class:{selected:s.name===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.name)}],click:function(e){return t.row_click(s.name)}}},[e("td",[t._v(t._s(t.$t(s.user_name)))]),e("td",[t._v(t._s(t.$t(s.log)))]),e("td",[t._v(t._s(t._f("formatDate")(s.time)))])])})),0)])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],1)},kt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])}],xt={name:"logsView",components:{NavBar:y,datePicker:I(),Loading:H()},data(){return{isLoading:!1,fullPage:!0,user:"",range:[],users:[],active_index:null,logs_rows:[],user_roles:"",max_id:0}},async mounted(){this.isLoading=!0;const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_logs(),this.get_users(),await new Promise((t=>setTimeout(t,500))),await this.get_roles(),0==this.user_roles[this.$route.path.substring(1)]&&this.$router.back(),this.isLoading=!1},filters:{formatDate(t){const e=new Date(t),s=`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()} ${e.getHours()}:${e.getMinutes()}`;return s}},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/logs/?search="+t}).then((t=>this.logs=t.data));this.get_logs()}},methods:{filter_data(){return this.user&&0==this.range.length?(0,r.Z)({method:"get",url:l+"/backend/logs/?user="+this.user}).then((t=>this.logs_rows=t.data)):this.range.length>1&&!this.user?(0,r.Z)({method:"get",url:l+"/backend/logs/?range="+this.range.toString()}).then((t=>this.logs_rows=t.data)):this.range.length>1&&this.user?(0,r.Z)({method:"get",url:l+"/backend/logs/?range="+this.range.toString()+"&user="+this.user}).then((t=>this.logs_rows=t.data)):void this.get_logs()},get_roles(){this.user_roles=this.$parent.user_roles},get_users(){return d.get("/backend/get_users/").then((t=>this.users=t.data)).catch((t=>{alert(t)}))},get_logs(){return d.get("/backend/logs/").then((t=>this.logs_rows=t.data)).catch((t=>{alert(t)}))},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("logs"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},async row_click(t){return this.active_index=t,await this.get_log(t),await this.get_rooms(t),!0}}},$t=xt,Pt=(0,u.Z)($t,yt,kt,!1,null,null,null),Dt=Pt.exports,St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"FlightsView"},[e("div",{staticClass:"context-menu",style:t.menuStyle,attrs:{id:"context-menu"}},[e("ul",[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_flight(t.flight.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("li",{staticClass:"ltr dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("li",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])]),e("div",{staticClass:"col-xl-12 center"},[e("div",{staticClass:"card shadow mb-4"},[e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v(t._s(t.$t("Flights Table"))+" ")]),e("div",{staticClass:"dropdown no-arrow"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item hand-mouse",on:{click:t.open_add_modal}},[e("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("Add"))+" ")]),e("a",{staticClass:"dropdown-item hand-mouse",on:{click:function(e){return t.PrintDiv("table")}}},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])]),e("div",{staticClass:"card-body",attrs:{id:"table"}},[e("div",{staticClass:"card-header cnter",staticStyle:{display:"none"},attrs:{id:"head_txt"}}),e("form",{staticClass:"site-form-table"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Code")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Airline")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("From airport")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("To airport")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Departure date")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Arrival date")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Seats")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Status")))]),e("th",{staticClass:"no_print",attrs:{scope:"col"}},[t._v(t._s(t.$t("Actions")))])])]),e("tbody",t._l(this.flights,(function(s){return e("tr",{key:s.id,class:{selected:s.id===t.active_index},attrs:{role:"button"},on:{contextmenu:[t.showContextMenu,function(e){return t.row_click(s.id)}],click:function(e){return t.row_click(s.id)},dblclick:t.open_edit_modal}},[e("th",{attrs:{scope:"row",id:"id"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(t.$t(s.code)))]),e("td",[t._v(t._s(t.$t(s.airline)))]),e("td",[t._v(t._s(t.$t(s.from_airport)))]),e("td",[t._v(t._s(t.$t(s.to_airport)))]),e("td",[t._v(t._s(t.formatDate(s.departure_date)))]),e("td",[t._v(t._s(t.formatDate(s.arrival_date)))]),e("td",[t._v(t._s(t.$t(s.seats)))]),e("td",["enable"==s.status?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/ok--v1"}}):t._e(),"disabled"==s.status?e("img",{attrs:{width:"30px",height:"30px",src:"https://img.icons8.com/color/2x/cancel--v1"}}):t._e()]),e("td",{staticClass:"no_print"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[t._m(1,!0),e("div",{staticClass:"dropdown-menu",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(0px, 37px, 0px)"},attrs:{"aria-labelledby":"btnGroupVerticalDrop1","x-placement":"bottom-start"}},[e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.delete_flight(s.id)}}},[e("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("Delete"))+" ")]),e("a",{staticClass:"dropdown-item",on:{click:t.open_edit_modal}},[e("i",{staticClass:"fa fa-pen-to-square"}),t._v(" "+t._s(t.$t("Edit"))+" ")]),e("a",{staticClass:"dropdown-item"},[e("i",{staticClass:"fa fa-print"}),t._v(" "+t._s(t.$t("Print"))+" ")])])])])])})),0)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.active_index,expression:"active_index"}],attrs:{hidden:"",type:"text",id:"row_id"},domProps:{value:t.active_index},on:{input:function(e){e.target.composing||(t.active_index=e.target.value)}}})])])])]),e("date-picker",{attrs:{multiple:"",type:"datetime","compact-time":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),e("div",{staticClass:"modal fade",attrs:{id:"addModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[this.edit_mode?t._e():e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Add Flight")))]),this.edit_mode?e("h5",{staticClass:"modal-title",attrs:{id:"modal_label"}},[t._v(t._s(t.$t("Edit Flight")))]):t._e(),e("button",{staticClass:"close on-hover",attrs:{type:"button","aria-label":"Close"},on:{click:this.closeModal}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"flight_code"}},[t._v(t._s(t.$t("Code")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.code,expression:"flight.code"}],staticClass:"form-control",class:{"is-invalid":!this.flight.code&&this.validate,"is-valid":this.flight.code&&this.validate},attrs:{id:"flight_code",type:"text"},domProps:{value:t.flight.code},on:{input:function(e){e.target.composing||t.$set(t.flight,"code",e.target.value)}}}),!this.flight.code&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The code"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"airline"}},[t._v(t._s(t.$t("Airline")))]),e("div",{staticClass:"container p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-11 pr-0"},[e("v-select",{attrs:{id:"airline",options:t.airlineOptions},model:{value:t.flight.airline,callback:function(e){t.$set(t.flight,"airline",e)},expression:"flight.airline"}}),!this.flight.airline&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select airline"))+" ")]):t._e()],1),t._m(2)]),e("div",{staticClass:"collapse m-4",attrs:{id:"airline_collapse"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(" Airlines ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm table-sm"},[e("table",{staticClass:"table"},[t._m(3),e("tbody",t._l(this.airlines,(function(s){return e("tr",{key:s.code},[e("th",[t._v(t._s(s.code))]),e("th",[t._v(t._s(s.name_en))]),e("th",[t._v(t._s(s.name_ar))]),e("th",[t._v(t._s(s.city))]),e("th",[e("button",{staticClass:"btn btn-dangares",attrs:{type:"button"},on:{click:function(e){return t.delete_airline(s.id)}}},[e("i",{staticClass:"fa-solid fa-trash"})])])])})),0)]),e("hr"),e("div",{staticClass:"center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airline.name_ar,expression:"airline.name_ar"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name ar"},domProps:{value:t.airline.name_ar},on:{input:function(e){e.target.composing||t.$set(t.airline,"name_ar",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airline.name_en,expression:"airline.name_en"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name en"},domProps:{value:t.airline.name_en},on:{input:function(e){e.target.composing||t.$set(t.airline,"name_en",e.target.value)}}})])]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airline.code,expression:"airline.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code"},domProps:{value:t.airline.code},on:{input:function(e){e.target.composing||t.$set(t.airline,"code",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airline.city,expression:"airline.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City"},domProps:{value:t.airline.city},on:{input:function(e){e.target.composing||t.$set(t.airline,"city",e.target.value)}}})])]),e("br"),e("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.save_airline()}}},[e("i",{staticClass:"fa-solid fa-plus"})])])]),t._m(4)])])])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"airport"}},[t._v(t._s(t.$t("From Airport")))]),e("div",{staticClass:"container p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-11 pr-0"},[e("v-select",{attrs:{id:"from_airport",options:t.airportOptions},model:{value:t.flight.from_airport,callback:function(e){t.$set(t.flight,"from_airport",e)},expression:"flight.from_airport"}}),!this.flight.from_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select from airport"))+" ")]):t._e()],1),t._m(5)]),e("div",{staticClass:"collapse m-4",attrs:{id:"from_airport_collapse"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(" Airports ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm table-sm"},[e("table",{staticClass:"table"},[t._m(6),e("tbody",t._l(this.airports,(function(s){return e("tr",{key:s.code},[e("th",[t._v(t._s(s.code))]),e("th",[t._v(t._s(s.name_en))]),e("th",[t._v(t._s(s.name_ar))]),e("th",[t._v(t._s(s.city))]),e("th",[e("button",{staticClass:"btn btn-dangares",attrs:{type:"button"},on:{click:function(e){return t.delete_airport(s.id)}}},[e("i",{staticClass:"fa-solid fa-trash"})])])])})),0)]),e("hr"),e("div",{staticClass:"center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.name_ar,expression:"airport.name_ar"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name ar"},domProps:{value:t.airport.name_ar},on:{input:function(e){e.target.composing||t.$set(t.airport,"name_ar",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.name_en,expression:"airport.name_en"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name en"},domProps:{value:t.airport.name_en},on:{input:function(e){e.target.composing||t.$set(t.airport,"name_en",e.target.value)}}})])]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.code,expression:"airport.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code"},domProps:{value:t.airport.code},on:{input:function(e){e.target.composing||t.$set(t.airport,"code",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.city,expression:"airport.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City"},domProps:{value:t.airport.city},on:{input:function(e){e.target.composing||t.$set(t.airport,"city",e.target.value)}}})])]),e("br"),e("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.save_airport()}}},[e("i",{staticClass:"fa-solid fa-plus"})])])]),t._m(7)])])])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"airport"}},[t._v(t._s(t.$t("To Airport")))]),e("div",{staticClass:"container p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-11 pr-0"},[e("v-select",{attrs:{id:"to_airport",options:t.airportOptions},model:{value:t.flight.to_airport,callback:function(e){t.$set(t.flight,"to_airport",e)},expression:"flight.to_airport"}}),!this.flight.to_airport&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select to airport"))+" ")]):t._e()],1),t._m(8)]),e("div",{staticClass:"collapse m-4",attrs:{id:"to_airport_collapse"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(" Airports ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive-sm table-sm"},[e("table",{staticClass:"table"},[t._m(9),e("tbody",t._l(this.airports,(function(s){return e("tr",{key:s.code},[e("th",[t._v(t._s(s.code))]),e("th",[t._v(t._s(s.name_en))]),e("th",[t._v(t._s(s.name_ar))]),e("th",[t._v(t._s(s.city))]),e("th",[e("button",{staticClass:"btn btn-dangares",attrs:{type:"button"},on:{click:function(e){return t.delete_airport(s.id)}}},[e("i",{staticClass:"fa-solid fa-trash"})])])])})),0)]),e("hr"),e("div",{staticClass:"center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.name_ar,expression:"airport.name_ar"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name ar"},domProps:{value:t.airport.name_ar},on:{input:function(e){e.target.composing||t.$set(t.airport,"name_ar",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.name_en,expression:"airport.name_en"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name en"},domProps:{value:t.airport.name_en},on:{input:function(e){e.target.composing||t.$set(t.airport,"name_en",e.target.value)}}})])]),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.code,expression:"airport.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code"},domProps:{value:t.airport.code},on:{input:function(e){e.target.composing||t.$set(t.airport,"code",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.airport.city,expression:"airport.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City"},domProps:{value:t.airport.city},on:{input:function(e){e.target.composing||t.$set(t.airport,"city",e.target.value)}}})])]),e("br"),e("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.save_airport()}}},[e("i",{staticClass:"fa-solid fa-plus"})])])]),t._m(10)])])])])]),e("div",{staticClass:"form-group mb-2"},[e("label",{attrs:{for:"departure_date"}},[t._v(t._s(t.$t("Departure date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.departure_date,expression:"flight.departure_date"}],staticClass:"form-control",class:{"is-invalid":!this.flight.departure_date&&this.validate,"is-valid":this.flight.departure_date&&this.validate},attrs:{id:"departure_date",type:"datetime-local"},domProps:{value:t.flight.departure_date},on:{input:function(e){e.target.composing||t.$set(t.flight,"departure_date",e.target.value)}}}),!this.flight.type&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter departure_date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"arrival_date"}},[t._v(" "+t._s(t.$t("Arrival date")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.arrival_date,expression:"flight.arrival_date"}],staticClass:"form-control",class:{"is-invalid":!this.flight.arrival_date&&this.validate,"is-valid":this.flight.arrival_date&&this.validate},attrs:{id:"arrival_date",type:"datetime-local"},domProps:{value:t.flight.arrival_date},on:{input:function(e){e.target.composing||t.$set(t.flight,"arrival_date",e.target.value)}}}),!this.flight.arrival_date&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The arrival date"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"seats"}},[t._v(" "+t._s(t.$t("Seats")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.flight.seats,expression:"flight.seats"}],staticClass:"form-control",class:{"is-invalid":!this.flight.seats&&this.validate,"is-valid":this.flight.seats&&this.validate},attrs:{id:"seats",type:"number"},domProps:{value:t.flight.seats},on:{input:function(e){e.target.composing||t.$set(t.flight,"seats",e.target.value)}}}),!this.flight.seats&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Enter The seats"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"status"}},[t._v(t._s(t.$t("Status")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flight.status,expression:"flight.status"}],staticClass:"form-control",class:{"is-invalid":!this.flight.status&&this.validate,"is-valid":this.flight.status&&this.validate},attrs:{id:"status",type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.flight,"status",e.target.multiple?s:s[0])}}},[e("option",{attrs:{selected:""},domProps:{value:t.$t("enable")}},[t._v(t._s(t.$t("Enable"))+" ")]),e("option",{domProps:{value:t.$t("disabled")}},[t._v(t._s(t.$t("Disabled"))+" ")])]),!this.flight.status&&this.validate?e("div",{staticClass:"invalid-feedback hidden"},[t._v(" "+t._s(t.$t("Please Select the status"))+" ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"cutomer_notes"}},[t._v(" "+t._s(t.$t("Notes")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.flight.notes,expression:"flight.notes"}],staticClass:"form-control",attrs:{id:"cutomer_notes",rows:"1"},domProps:{value:t.flight.notes},on:{input:function(e){e.target.composing||t.$set(t.flight,"notes",e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary on-hover-sm",attrs:{type:"button",id:"closeModal",title:"close"},on:{click:this.closeModal}},[e("i",{staticClass:"fa fa-xmark"})]),t.edit_mode?t._e():e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.save_flight()}}},[e("i",{staticClass:"fa fa-floppy-disk"})]),t.edit_mode?e("button",{staticClass:"btn btn-danger on-hover-sm",attrs:{type:"button",title:"delete"},on:{click:function(e){return t.delete_flight(t.active_index)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e(),t.edit_mode?e("button",{staticClass:"btn btn-primary on-hover-sm",attrs:{type:"button",title:"save"},on:{click:function(e){return t.update_flight(t.active_index)}}},[e("i",{staticClass:"fa fa-floppy-disk"})]):t._e()])])])]),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],1)},Nt=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-bars on-hover"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn dropdown-toggle",attrs:{id:"btnGroupVerticalDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e("i",{staticClass:"fa fa-gear on-hover"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col col-1 p-0"},[e("button",{staticClass:"btn btn-light",attrs:{type:"button","data-toggle":"collapse","data-target":"#airline_collapse","aria-expanded":"false","aria-controls":"collapseExample"}},[e("i",{staticClass:"fa-solid fa-pen-to-square"})])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Code")]),e("th",{attrs:{scope:"col"}},[t._v("Name EN")]),e("th",{attrs:{scope:"col"}},[t._v("Name AR")]),e("th",{attrs:{scope:"col"}},[t._v("City")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mt-4"},[e("a",{staticClass:"center",attrs:{onclick:"$('#airline_collapse').collapse('hide')"}},[e("i",{staticClass:"fa-solid fa-chevron-up"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col col-1 p-0"},[e("button",{staticClass:"btn btn-light",attrs:{type:"button","data-toggle":"collapse","data-target":"#from_airport_collapse","aria-expanded":"false","aria-controls":"collapseExample"}},[e("i",{staticClass:"fa-solid fa-pen-to-square"})])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Code")]),e("th",{attrs:{scope:"col"}},[t._v("Name EN")]),e("th",{attrs:{scope:"col"}},[t._v("Name AR")]),e("th",{attrs:{scope:"col"}},[t._v("City")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mt-4"},[e("a",{staticClass:"center",attrs:{onclick:"$('#from_airport_collapse').collapse('hide')"}},[e("i",{staticClass:"fa-solid fa-chevron-up"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col col-1 p-0"},[e("button",{staticClass:"btn btn-light",attrs:{type:"button","data-toggle":"collapse","data-target":"#to_airport_collapse","aria-expanded":"false","aria-controls":"collapseExample"}},[e("i",{staticClass:"fa-solid fa-pen-to-square"})])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Code")]),e("th",{attrs:{scope:"col"}},[t._v("Name EN")]),e("th",{attrs:{scope:"col"}},[t._v("Name AR")]),e("th",{attrs:{scope:"col"}},[t._v("City")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mt-4"},[e("a",{staticClass:"center",attrs:{onclick:"$('#to_airport_collapse').collapse('hide')"}},[e("i",{staticClass:"fa-solid fa-chevron-up"})])])}],jt={name:"FlightsView",components:{NavBar:y,vSelect:U()},data(){return{date:"",validate:!1,base_url:window.location.origin+"/media/flights/",previewImage:null,img_file:null,active_index:null,flights:[],airlines:[],airports:[],flight:{code:"",airline:"",from_airport:"",to_airport:"",departure_date:"",arrival_date:"",seats:"",status:"",user:""},airline:{name_ar:"",name_en:"",code:"",city:""},airport:{name_ar:"",name_en:"",code:"",city:""},add_airline:"",add_airport:"",edit_mode:!1,max_id:0,isContextMenuActive:!1,menuStyle:{display:"none",top:0,left:0}}},async mounted(){const t=document.getElementsByClassName("modal-backdrop fade show");while(t.length>0)t[0].parentNode.removeChild(t[0]);await this.get_flights(),this.get_airlines(),this.get_airports()},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/flights/?search="+t}).then((t=>this.flights=t.data));this.get_flights()},airlineOptions(){return this.airlines.map((t=>t.code))},airportOptions(){return this.airports.map((t=>t.code))},format_dates(){}},methods:{formatDate(t){const e=new Date(t),s=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();let o=e.getHours();const r=String(e.getMinutes()).padStart(2,"0"),n=o>=12?"PM":"AM";return o=String(o%12||12).padStart(2,"0"),`${a}/${s}/${i} ${o}:${r} ${n}`},showContextMenu(t){t.preventDefault(),this.isContextMenuActive=!0,this.menuStyle.top=`${t.clientY}px`,this.menuStyle.left=`${t.clientX}px`,this.menuStyle.display="block",window.addEventListener("click",this.hideContextMenu)},hideContextMenu(){this.isContextMenuActive=!1,this.menuStyle.display="none",window.removeEventListener("click",this.hideContextMenu)},PrintDiv(t){var e=document.getElementById(t),s=window.open("","_blank","width=100000,height=10000");document.getElementById("head_txt").style.display="block",document.getElementById("head_txt").innerHTML=this.$t("Flights"),s.document.write('<link href="static/css/sb-admin-2.min.css" rel="stylesheet">'),s.document.write('<link href="static/css/reports.css" rel="stylesheet">'),s.document.write("<style>body{background-color:white !important;}</style>"),s.document.write('<iframe src="static/parts/report_head.html" width="100%" height="200px" frameBorder="0"></iframe>'),s.document.write('<html><body onload="window.print()"> '+e.innerHTML+"</html>"),document.getElementById("head_txt").style.display="none",s.document.close()},onFileChange(t){try{this.img_file=t.target.files[0],this.previewImage=URL.createObjectURL(this.img_file)}catch(e){alert(e)}},uploadImage(){if(this.img_file){let t=new FormData;return t.append("image",this.img_file),r.Z.post(l+"/backend/upload_file/?file_name=/flights/"+this.max_id+"_"+this.flight.name+".png",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{})).catch((t=>{alert(t)}))}},remove_file(t){return(0,r.Z)({method:"get",url:l+"/backend/remove_file/?file_name="+t,auth:{username:"admin",password:"123"}})},get_flights(){return d.get("/backend/flights/").then((t=>this.flights=t.data)).catch((t=>{alert(t)}))},async save_flight(){try{if(this.check_form()){await fetch(l+"/backend/flights/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.flight)});swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),await this.get_max_id(),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add flight :"+this.max_id,time:new Date}),this.get_flights(),await this.uploadImage(),this.closeModal()}}catch(t){console.error()}},async get_airlines(){return d.get("/backend/airlines/").then((t=>this.airlines=t.data)).catch((t=>{alert(t)}))},async save_airline(){try{var t=await fetch(l+"/backend/airlines/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.airline)});if(t.ok)swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),$("#airline_collapse").collapse("hide"),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add airline :"+this.airline.name_en,time:new Date}),await this.get_airlines(),this.add_airline="",this.flight.airline=airlineOptions[airlineOptions.length-1];else{var e=await t.json();swal(this.$t(JSON.stringify(e.name[0])),{buttons:!1,icon:"error",timer:5e3})}}catch(s){console.error()}},async delete_airline(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await d["delete"]("/backend/airlines/"+t+"/"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete airline id:"+t,time:new Date}),await this.get_airlines())}))}catch(e){console.error()}},async get_airports(){return d.get("/backend/airports/").then((t=>this.airports=t.data)).catch((t=>{alert(t)}))},async save_airport(){try{var t=await fetch(l+"/backend/airports/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.airport)});if(t.ok)swal(this.$t("Added!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"add airport :"+this.airport.name_en,time:new Date}),$("#airports_collapse").collapse("hide"),$("#airports_collapse2").collapse("hide"),await this.get_airports(),this.add_airport="",this.flight.airport=airportOptions[airportOptions.length-1];else{var e=await t.json();swal(this.$t(JSON.stringify(e.name[0])),{buttons:!1,icon:"error",timer:5e3})}}catch(s){console.error()}},async delete_airport(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await d["delete"]("/backend/airports/"+t+"/"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete airport id:"+t,time:new Date}),await this.get_airports())}))}catch(e){console.error()}},async update_flight(t){try{if(this.check_form()){await fetch(l+"/backend/flights/"+t+"/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.flight)});swal(this.$t("Updated!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"update flight :"+t,time:new Date}),this.max_id=this.flight.id,await this.uploadImage(),this.get_flights(),this.closeModal(),this.edit_mode=!1}}catch(e){console.error()}},async delete_flight(t){try{await swal({title:this.$t("Are you sure to delete?"),text:"",icon:"warning",buttons:!0,dangerMode:!0}).then((async e=>{e&&(await d["delete"]("/backend/flights/"+t+"/"),this.remove_file("/flights/"+t+"_"+this.flight.name+".png"),swal(this.$t("Deleted!"),{buttons:!1,icon:"success",timer:2e3}),r.Z.post(l+"/backend/logs/",{user_name:this.$parent.user_name,log:"delete flight :"+t,time:new Date}),await this.get_flights(),this.closeModal())}))}catch(e){console.error()}},async get_flight(t){return(0,r.Z)({method:"get",url:l+"/backend/flights/?id="+t,auth:{username:"admin",password:"123"}}).then((t=>this.flight=t.data[0]))},get_max_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_max_id/?table_name=Flights"}).then((t=>this.max_id=t.data.data.id__max))},open_add_modal(){this.edit_mode=!1,this.clear_form(),$("#addModal").modal("toggle")},open_edit_modal(){this.edit_mode=!0,$("#addModal").modal("toggle")},closeModal(){$("#addModal").modal("hide"),this.clear_form()},async row_click(t){this.active_index=t,await this.get_flight(t)},clear_form(){this.flight.code="",this.flight.airline="",this.flight.from_airport="",this.flight.to_airport="",this.flight.departure_date="",this.flight.arrival_date="",this.flight.seats="",this.flight.status="",this.flight.notes="",this.validate=!1},check_form(){return this.validate=!0,!!(this.flight.code&&this.flight.airline&&this.flight.from_airport&&this.flight.to_airport&&this.flight.departure_date&&this.flight.arrival_date&&this.flight.seats&&this.flight.status)}}},Mt=jt,Lt=(0,u.Z)(Mt,St,Nt,!1,null,null,null),Et=Lt.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",attrs:{id:"page-top"}},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.buttons,(function(s){return e("div",{directives:[{name:"show",rawName:"v-show",value:s.show&&t.user_roles[s.url],expression:"button.show && user_roles[button.url]"}],key:s.id,staticClass:"col-xl-3 col-md-6 mb-4 on-hover-sm",attrs:{role:"button"}},[e("div",{staticClass:"card shadow h-100 py-2",class:s.color},[e("router-link",{staticClass:"card-body",attrs:{tag:"div",to:"/"+s.url}},[e("div",{staticClass:"row no-gutters align-items-center"},[e("div",{staticClass:"col mr-2"},[e("div",{staticClass:"font-weight-bold text-primary text-uppercase mb-1"},[t._v(" "+t._s(t.$t(s.title)))]),e("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"})]),e("div",{staticClass:"col-auto"},[e("i",{staticClass:"fa-2x text-gray-300",class:s.icon})])])])],1)])})),e("input",{attrs:{"on-change":t.search,hidden:""},domProps:{value:this.$parent.$refs.NavBar.search}})],2)},Tt=[],Bt={name:"dashboard",components:{NavBar:y,Loading:H()},data(){return{isLoading:!1,fullPage:!0,buttons:[],user_roles:"",messages:[],newMessage:""}},computed:{search(){let t=this.$parent.$refs.NavBar.search;if(t&&t.trim())return(0,r.Z)({method:"get",url:l+"/backend/dashboard_buttons/?search="+t}).then((t=>this.buttons=t.data));this.get_dashboard_buttons()}},async mounted(){this.isLoading=!0,await this.get_dashboard_buttons(),await this.get_user_name_id(),await this.get_roles(),this.isLoading=!1},methods:{get_dashboard_buttons(){return d.get("/backend/dashboard_buttons/").then((t=>this.buttons=t.data)).catch((t=>{alert(t)}))},get_user_name_id(){return(0,r.Z)({method:"get",url:l+"/backend/get_user_name_id/?username="+this.$parent.user_name}).then((t=>this.user_name_id=t.data.data))},async get_roles(){return d.get("backend/get_roles/?user_id="+this.user_name_id,{auth:{username:"admin",password:"123"}}).then((t=>this.user_roles=t.data)).catch((t=>{alert(t)}))},fetchMessages(){const t=1;r.Z.get(`/backend/get-messages/?receiver_id=${t}`).then((t=>{this.messages=t.data.messages})).catch((t=>{console.log(t)}))},sendMessage(){const t=1;r.Z.post("/backend/send-message/",{receiver_id:t,message:this.newMessage}).then((t=>{"success"===t.data.status&&(this.newMessage="",this.fetchMessages())})).catch((t=>{console.log(t)}))}}},Zt=Bt,It=(0,u.Z)(Zt,At,Tt,!1,null,null,null),Ot=It.exports;a.ZP.use(S.ZP);const Ut=[{path:"/flights",name:"FlightsView",component:Et,meta:{requiresAuth:!0}},{path:"/",name:"DashboardView",component:Ot,meta:{requiresAuth:!0}},{path:"/backups",name:"BackupsView",component:Ct,meta:{requiresAuth:!0}},{path:"/logs",name:"LogsView",component:Dt,meta:{requiresAuth:!0}},{path:"/users",name:"UsersView",component:A,meta:{requiresAuth:!0}},{path:"/bookings",name:"BookingsView",component:F,meta:{requiresAuth:!0}},{path:"/available_hotel",name:"Available_hotelView",component:K,meta:{requiresAuth:!0}},{path:"/hotels",name:"HotelsView",component:rt,meta:{requiresAuth:!0}},{path:"/hotels_report",name:"Hotels_reportView",component:pt,meta:{requiresAuth:!0}},{path:"/dashboard",name:"DashboardView",component:Ot,meta:{requiresAuth:!0}}],Yt=new S.ZP({base:"/",routes:Ut});Yt.beforeEach(((t,e,s)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const t=localStorage.getItem("access_token");t?s():s({name:"login"})}else s()}));var Ht=Yt,Rt=s(3822);a.ZP.use(Rt.ZP);var Vt=new Rt.ZP.Store({state:{token:"",isAuthenticated:!1},getters:{},mutations:{initializeStore(t){localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1}},actions:{},modules:{}}),Gt=s(6018),Ft=window.location.protocol+"//"+window.location.hostname+":8000"+window.location.pathname;r.Z.defaults.baseURL=Ft,a.ZP.use(Gt.Z);const qt=new Gt.Z({locale:"en",messages:{ar:{"Please Enter The Name":"يرجى ادخال الاسم","Please Select Type":"يرجى تحديد النوع","Please Enter Mobile Number":"يرجى ادخال رقم الهاتف ","Please Select ID Type":"يرجى تحديد نوع الوثيقة","Please Enter ID Number":"يرجى ادخال رقم الوثيقة","Please Enter The Address":"يرجى ادخال العنوان",Language:"اللغة",Arabic:"عربي",English:"انجليزي",On:"مفعل",Off:"مغلق","Dark Mode":"الوضع المظلم",User:"المستخدم",Profile:"الحساب",Login:"تسجيل الدخول",Logout:"تسجيل الخروج","Activity Log":"سجل الحركات",Settings:"الاعدادات",Users:"المستخدمين",Customer:"عميل",Supplier:"مورد",Customers:"العملاء",Persons:"الأشخاص",Employees:"الموظفين",Table:"جدول","Customers Table":"جدول العملاء","Search for...":"...البحث عن","Alerts Center":"الاشعارات","Show All Alerts":"عرض جميع الاشعارات","Message Center":"الرسائل","Read More Messages":"عرض جميع الرسائل",Dashboard:"لوحة التحكم",Name:"الاسم",Mobile:"الهاتف",Type:"النوع","ID Type":"الوثيقة","ID Number":"رقم الوثيقة",Address:"العنوان",Notes:"الملاحظات",Image:"الصورة",Actions:"الخيارات",Delete:"حذف",Edit:"تعديل",Save:"حفظ",Close:"اغلاق",Cancel:"الغاء",Print:"طباعة",Add:"اضافة",add:"اضافة",new:"اضافة",New:"اضافة",Updated:"تم التحديث",Saved:"تم الحفظ",Number:"رقم","Number of":"رقم",Residence:"إقامة","Driving License":"رخصة قيادة",Passport:"جواز سفر","ID Card":"بطاقة هوية","Choose Picture":"اختر صورة","Add Customer":"اضافة عميل","Edit Customer":"تعديل عميل","Are you sure?":"هل انت متأكد؟","Deleted!":"تم الحذف","Updated!":"تم التحديث","Added!":"تمت الاضافة"}}});a.ZP.config.productionTip=!1,new a.ZP({i18n:qt,router:Ht,store:Vt,axios:r.Z,swal:st(),XLSX:ct(),render:t=>t(D)}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,o){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],o=t[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(n=!1,o<r&&(r=o));if(n){t.splice(c--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[a,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,r=a[0],n=a[1],l=a[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var c=l(s)}for(e&&e(a);d<r.length;d++)o=r[d],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9313)}));a=s.O(a)})();
//# sourceMappingURL=app.51e8a18c.js.map